---
title: Nano Banana å›¾åƒç”Ÿæˆ
sidebarTitle: Nano Banana ç”Ÿå›¾
description: "Nano Banana (Gemini 2.5 Flash): é«˜æ€§ä»·æ¯”å›¾åƒç”Ÿæˆ APIã€‚ä»… $0.025/å¼ ï¼Œ10ç§’æé€Ÿå‡ºå›¾ã€‚æ”¯æŒ Base64 è¾“å‡ºå’Œ OpenAI æ ¼å¼ã€‚"
icon: "sparkles"
---

<Warning>
**âš ï¸ æ¨¡å‹å³å°†ä¸‹çº¿é€šçŸ¥**  
`gemini-2.5-flash-image-preview` é¢„è§ˆç‰ˆå³å°†ä¸‹çº¿ã€‚è¯·è¿ç§»è‡³æ­£å¼ç‰ˆ `gemini-2.5-flash-image`ï¼ˆNano Banana Standardï¼‰ã€‚
</Warning>

## å‰ç½®è¦æ±‚

<Steps>
  <Step title="è·å– API Key">
    ç™»å½• [laozhang.ai æ§åˆ¶å°](https://api.laozhang.ai) è·å– API å¯†é’¥
  </Step>
  <Step title="é…ç½®è®¡è´¹æ¨¡å¼">
    ç¼–è¾‘ä»¤ç‰Œè®¾ç½®ï¼Œé€‰æ‹©ä»¥ä¸‹ä»»ä¸€è®¡è´¹æ¨¡å¼ï¼ˆä¸¤è€…ä»·æ ¼ç›¸åŒï¼‰ï¼š

    - **æŒ‰é‡ä¼˜å…ˆ**ï¼ˆæ¨èï¼‰ï¼šä¼˜å…ˆä½¿ç”¨ä½™é¢è®¡è´¹ï¼Œä½™é¢ä¸è¶³æ—¶è‡ªåŠ¨åˆ‡æ¢ã€‚é€‚åˆå¤§å¤šæ•°ç”¨æˆ·
    - **æŒ‰æ¬¡è®¡è´¹**ï¼šæ¯æ¬¡è°ƒç”¨ç›´æ¥æ‰£è´¹ã€‚é€‚åˆé¢„ç®—æ§åˆ¶ä¸¥æ ¼çš„åœºæ™¯

    <Note>
    ä¸¤ç§æ¨¡å¼**ä»·æ ¼å®Œå…¨ç›¸åŒ**ï¼Œéƒ½æ˜¯ \$0.025/å¼ ï¼Œä»…æ‰£è´¹æ–¹å¼ä¸åŒã€‚
    </Note>

    <img src="/images/sora2-token-setting.png" alt="ä»¤ç‰Œè®¾ç½®" />

    <Warning>
    å¦‚æœæœªè®¾ç½®è®¡è´¹æ¨¡å¼ï¼ŒAPIè°ƒç”¨ä¼šå¤±è´¥ã€‚å¿…é¡»å…ˆå®Œæˆæ­¤é…ç½®ï¼
    </Warning>
  </Step>
</Steps>

## æ¨¡å‹ç®€ä»‹

**Nano Banana** (Standard) æ˜¯è€å¼ APIå¯¹ Google **Gemini 2.5 Flash Image** (`gemini-2.5-flash-image`) æ¨¡å‹çš„å®šåˆ¶ç‰ˆç§°å‘¼ã€‚

<Note>
**ğŸš€ æé€Ÿç”Ÿæˆ (Standard ç‰ˆ)**  
å¹³å‡ä»…éœ€ 10 ç§’å³å¯ç”Ÿæˆé«˜è´¨é‡å›¾ç‰‡ã€‚
- **åˆ†è¾¨ç‡**: å›ºå®š 1024x1024 (1K)
- **ä»·æ ¼**: $0.025/å¼ 
</Note>

## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

- **âš¡ æé€Ÿå“åº”**ï¼šå¹³å‡ 10 ç§’ç”Ÿæˆï¼Œæ˜¾è‘—å¿«äº OpenAI ç³»åˆ—
- **ğŸ’° è¶…å€¼ä»·æ ¼**ï¼š$0.025/å¼ ï¼Œæ¯”å®˜æ–¹ä»·æ ¼ï¼ˆ$0.04/å¼ ï¼‰ä¾¿å®œ 37.5%
- **ğŸ”„ å®Œç¾å…¼å®¹**ï¼šä¸ `gpt-4o-image` å’Œ `sora_image` è°ƒç”¨æ–¹å¼å®Œå…¨ä¸€è‡´
- **ğŸ“¦ Base64 è¾“å‡º**ï¼šç›´æ¥è¿”å› base64 ç¼–ç å›¾ç‰‡æ•°æ®ï¼Œæ— éœ€äºŒæ¬¡ä¸‹è½½
- **ğŸ¨ Google æŠ€æœ¯**ï¼šåŸºäº Google æœ€æ–°å›¾åƒç”ŸæˆæŠ€æœ¯ï¼Œè´¨é‡å‡ºä¼—

## ğŸ“‹ æ¨¡å‹å¯¹æ¯”

| æ¨¡å‹ | æ¨¡å‹ ID | è®¡è´¹æ–¹å¼ | è€å¼ APIä»·æ ¼ | å®˜æ–¹ä»·æ ¼ | èŠ‚çœæ¯”ä¾‹ | é€Ÿåº¦ |
|------|---------|----------|-----------|----------|----------|------|
| **Nano Banana** | `gemini-2.5-flash-image` | æŒ‰æ¬¡è®¡è´¹ | $0.025/å¼  | $0.04/å¼  | 37.5% | ~10ç§’ |
| **Nano Banana Pro** | `gemini-3-pro-image-preview` | æŒ‰æ¬¡è®¡è´¹ | $0.05/å¼  | $0.24/å¼  | 79% | ~12ç§’ |
| **GPT-Image-1** | `gpt-image-1` | æŒ‰Token | $10è¾“å…¥/$40è¾“å‡º per M | - | - | ä¸­ç­‰ |
| **Flux Kontext Pro** | `flux-kontext-pro` | æŒ‰æ¬¡è®¡è´¹ | $0.035/å¼  | $0.04/å¼  | 12.5% | å¿«é€Ÿ |
| **Sora Image** | `sora_image` | æŒ‰æ¬¡è®¡è´¹ | $0.01/å¼  | - | - | è¾ƒæ…¢ |

<Tip>
ğŸ’¡ **ä»·æ ¼ä¼˜åŠ¿**  
- æ¯”å®˜æ–¹ä»·æ ¼ä¾¿å®œ 37.5%
- å•æ¬¡å¤§é¢å……å€¼åŠ èµ  10%ï¼Œå åŠ æ±‡ç‡ä¼˜åŠ¿ï¼Œæ€»ä½“æ˜¯å®˜ç½‘ 7.3 æŠ˜
- ä»·æ ¼é€æ˜å¯é¢„æµ‹ï¼Œæ— éœ€æ‹…å¿ƒ Token æ¶ˆè€—
</Tip>

## âš ï¸ é‡è¦æç¤º

<Warning>
**è°ƒç”¨ç«¯ç‚¹æ³¨æ„**  
- âœ… æ­£ç¡®ï¼š`/v1/chat/completions`ï¼ˆå¯¹è¯è¡¥å…¨ç«¯ç‚¹ï¼‰
- âŒ é”™è¯¯ï¼š`/v1/images/generations`ï¼ˆä¼ ç»Ÿå›¾åƒç”Ÿæˆç«¯ç‚¹ï¼‰

æœ¬æ¨¡å‹ä½¿ç”¨å¯¹è¯è¡¥å…¨æ¥å£ï¼Œä¸ `gpt-4o-image` å’Œ `sora_image` è°ƒç”¨æ–¹å¼ä¸€è‡´ï¼
</Warning>

<Note>
**è¿”å›æ ¼å¼å·®å¼‚**  
- `gemini-2.5-flash-image-preview`ï¼šè¿”å› **base64 ç¼–ç **
- `sora_image`ï¼šè¿”å›å›¾ç‰‡ URL
- è°ƒç”¨æ–¹å¼å®Œå…¨ç›¸åŒï¼Œåªæ˜¯è¿”å›æ ¼å¼ä¸åŒ
</Note>

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‡†å¤‡å·¥ä½œ

1. **åˆ›å»ºä»¤ç‰Œ**ï¼šç™»å½• [è€å¼ API](https://api.laozhang.ai/token) åˆ›å»º**æŒ‰æ¬¡è®¡è´¹**ç±»å‹çš„ä»¤ç‰Œ

![ä»¤ç‰Œåˆ›å»ºç•Œé¢](/images/token-create-per-request.png)

<Steps>
  <Step title="ç™»å½•æ§åˆ¶å°">
    è®¿é—® [https://api.laozhang.ai/token](https://api.laozhang.ai/token) å¹¶ç™»å½•ä½ çš„è´¦æˆ·
  </Step>
  <Step title="åˆ›å»ºæ–°ä»¤ç‰Œ">
    ç‚¹å‡»"åˆ›å»ºæ–°ä»¤ç‰Œ"æŒ‰é’®ï¼Œ**åŠ¡å¿…é€‰æ‹©"æŒ‰æ¬¡è®¡è´¹"ç±»å‹**
  </Step>
  <Step title="ä¿å­˜ä»¤ç‰Œ">
    å¤åˆ¶ç”Ÿæˆçš„ä»¤ç‰Œå¹¶å¦¥å–„ä¿å­˜ï¼Œä»¤ç‰Œæ ¼å¼ä¸º `sk-xxxxxx`
  </Step>
</Steps>

<Tip>
ğŸ’° **ä»·æ ¼ä¼˜åŠ¿è¯¦è§£**  
- **è€å¼ APIä»·æ ¼**ï¼š$0.025/å¼ ï¼ˆæ¯”å®˜ç½‘ä¾¿å®œ 37.5%ï¼‰
- **å®˜ç½‘ä»·æ ¼**ï¼š$0.04/å¼ 
- **å……å€¼ä¼˜æƒ **ï¼šå•æ¬¡å¤§é¢å……å€¼åŠ èµ  10%
- **æ±‡ç‡ä¼˜åŠ¿**ï¼šå åŠ æ±‡ç‡ä¼˜åŠ¿ï¼Œ**æ€»ä½“ç›¸å½“äºå®˜ç½‘ 7.3 æŠ˜**
</Tip>

2. **é€‰æ‹©åŸŸå**ï¼šå¦‚æœ `https://api.laozhang.ai` è¾ƒæ…¢ï¼Œå¯ä½¿ç”¨ `https://api-cf.laozhang.ai`

### åŸºç¡€ç¤ºä¾‹ - Curl

```bash
curl -X POST "https://api.laozhang.ai/v1/chat/completions" \
     -H "Authorization: Bearer $API_KEY" \
     -H "Content-Type: application/json" \
     -d '{
    "model": "gemini-2.5-flash-image-preview",
    "stream": false,
    "messages": [
        {
            "role": "user",
            "content": "a beautiful sunset over mountains"
        }
    ]
}'
```

### å®Œæ•´ç¤ºä¾‹ - Python

```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-

"""
Nano Banana (Gemini) å›¾ç‰‡ç”Ÿæˆ - Pythonç‰ˆæœ¬
æ”¯æŒéæµå¼è¾“å‡ºå’Œè‡ªåŠ¨ä¿å­˜base64å›¾ç‰‡åˆ°æœ¬åœ°
"""

import requests
import json
import base64
import re
import os
import datetime
from typing import Optional, Tuple

class GeminiImageGenerator:
    def __init__(self, api_key: str, api_url: str = "https://api.laozhang.ai/v1/chat/completions"):
        """
        åˆå§‹åŒ–Geminiå›¾ç‰‡ç”Ÿæˆå™¨
        
        Args:
            api_key: APIå¯†é’¥ï¼ˆæŒ‰æ¬¡è®¡è´¹ç±»å‹ï¼‰
            api_url: APIåœ°å€
        """
        self.api_key = api_key
        self.api_url = api_url
        self.headers = {
            "Content-Type": "application/json",
            "Authorization": f"Bearer {api_key}"
        }
    
    def generate_image(self, prompt: str, model: str = "gemini-2.5-flash-image-preview", 
                      output_dir: str = ".") -> Tuple[bool, str]:
        """
        ç”Ÿæˆå›¾ç‰‡å¹¶ä¿å­˜åˆ°æœ¬åœ°
        
        Args:
            prompt: å›¾ç‰‡æè¿°æç¤ºè¯
            model: ä½¿ç”¨çš„æ¨¡å‹
            output_dir: è¾“å‡ºç›®å½•
            
        Returns:
            Tuple[æ˜¯å¦æˆåŠŸ, ç»“æœæ¶ˆæ¯]
        """
        print("ğŸš€ å¼€å§‹ç”Ÿæˆå›¾ç‰‡...")
        print(f"æç¤ºè¯: {prompt}")
        print(f"æ¨¡å‹: {model}")
        
        # ç”Ÿæˆæ–‡ä»¶å
        timestamp = datetime.datetime.now().strftime("%Y%m%d_%H%M%S")
        output_file = os.path.join(output_dir, f"gemini_generated_{timestamp}.png")
        
        try:
            # å‡†å¤‡è¯·æ±‚æ•°æ®
            payload = {
                "model": model,
                "stream": False,
                "messages": [
                    {
                        "role": "user",
                        "content": prompt
                    }
                ]
            }
            
            print("ğŸ“¡ å‘é€APIè¯·æ±‚...")
            
            # å‘é€éæµå¼è¯·æ±‚
            response = requests.post(
                self.api_url,
                headers=self.headers,
                json=payload,
                timeout=300
            )
            
            if response.status_code != 200:
                error_msg = f"APIè¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç : {response.status_code}"
                try:
                    error_detail = response.json()
                    error_msg += f", é”™è¯¯è¯¦æƒ…: {error_detail}"
                except:
                    error_msg += f", å“åº”å†…å®¹: {response.text[:500]}"
                return False, error_msg
            
            print("âœ… APIè¯·æ±‚æˆåŠŸï¼Œæ­£åœ¨è§£æå“åº”...")
            
            # è§£æJSONå“åº”
            try:
                result = response.json()
                print("âœ… æˆåŠŸè§£æJSONå“åº”")
            except json.JSONDecodeError as e:
                return False, f"JSONè§£æå¤±è´¥: {str(e)}"
            
            # æå–æ¶ˆæ¯å†…å®¹
            full_content = ""
            if "choices" in result and len(result["choices"]) > 0:
                choice = result["choices"][0]
                if "message" in choice and "content" in choice["message"]:
                    full_content = choice["message"]["content"]
            
            if not full_content:
                return False, "æœªæ‰¾åˆ°æ¶ˆæ¯å†…å®¹"
            
            print(f"ğŸ“ è·å–åˆ°æ¶ˆæ¯å†…å®¹ï¼Œé•¿åº¦: {len(full_content)} å­—ç¬¦")
            print("ğŸ” æ­£åœ¨è§£æå›¾ç‰‡æ•°æ®...")
            
            # æå–å¹¶ä¿å­˜å›¾ç‰‡
            success, message = self._extract_and_save_images(full_content, output_file)
            
            if success:
                return True, message
            else:
                return False, f"å›¾ç‰‡ä¿å­˜å¤±è´¥: {message}"
                
        except requests.exceptions.Timeout:
            return False, "è¯·æ±‚è¶…æ—¶ï¼ˆ300ç§’ï¼‰"
        except requests.exceptions.ConnectionError as e:
            return False, f"è¿æ¥é”™è¯¯: {str(e)}"
        except Exception as e:
            return False, f"æœªçŸ¥é”™è¯¯: {str(e)}"
    
    def _extract_and_save_images(self, content: str, base_output_file: str) -> Tuple[bool, str]:
        """
        é«˜æ•ˆæå–å¹¶ä¿å­˜base64å›¾ç‰‡æ•°æ®
        
        Args:
            content: åŒ…å«å›¾ç‰‡æ•°æ®çš„å†…å®¹
            base_output_file: åŸºç¡€è¾“å‡ºæ–‡ä»¶è·¯å¾„
            
        Returns:
            Tuple[æ˜¯å¦æˆåŠŸ, ç»“æœæ¶ˆæ¯]
        """
        try:
            print(f"ğŸ“„ å†…å®¹é¢„è§ˆï¼ˆå‰200å­—ç¬¦ï¼‰: {content[:200]}")
            
            # ä½¿ç”¨ç²¾ç¡®çš„æ­£åˆ™è¡¨è¾¾å¼æå–base64å›¾ç‰‡æ•°æ®
            base64_pattern = r'data:image/([^;]+);base64,([A-Za-z0-9+/=]+)'
            match = re.search(base64_pattern, content)
            
            if not match:
                print('âš ï¸  æœªæ‰¾åˆ°base64å›¾ç‰‡æ•°æ®')
                return False, "å“åº”ä¸­æœªåŒ…å«base64å›¾ç‰‡æ•°æ®"
            
            image_format = match.group(1)  # png, jpg, etc.
            b64_data = match.group(2)
            
            print(f'ğŸ¨ å›¾åƒæ ¼å¼: {image_format}')
            print(f'ğŸ“ Base64æ•°æ®é•¿åº¦: {len(b64_data)} å­—ç¬¦')
            
            # è§£ç å¹¶ä¿å­˜å›¾ç‰‡
            image_data = base64.b64decode(b64_data)
            
            if len(image_data) < 100:
                return False, "è§£ç åçš„å›¾ç‰‡æ•°æ®å¤ªå°ï¼Œå¯èƒ½æ— æ•ˆ"
            
            # æ ¹æ®æ£€æµ‹åˆ°çš„æ ¼å¼è®¾ç½®æ–‡ä»¶æ‰©å±•å
            output_file = base_output_file.replace('.png', f'.{image_format}')
            os.makedirs(os.path.dirname(output_file) if os.path.dirname(output_file) else ".", exist_ok=True)
            
            with open(output_file, 'wb') as f:
                f.write(image_data)
            
            print(f'ğŸ–¼ï¸  å›¾ç‰‡ä¿å­˜æˆåŠŸ: {output_file}')
            print(f'ğŸ“Š æ–‡ä»¶å¤§å°: {len(image_data)} å­—èŠ‚')
            
            return True, f"å›¾ç‰‡ä¿å­˜æˆåŠŸ: {output_file}"
                
        except Exception as e:
            return False, f"å¤„ç†å›¾ç‰‡æ—¶å‘ç”Ÿé”™è¯¯: {str(e)}"

def main():
    """
    ä¸»å‡½æ•°ç¤ºä¾‹
    """
    # é…ç½®å‚æ•°
    API_KEY = "sk-YOUR_API_KEY"  # è¯·æ›¿æ¢ä¸ºä½ çš„å®é™…APIå¯†é’¥ï¼ˆæŒ‰æ¬¡è®¡è´¹ç±»å‹ï¼‰
    PROMPT = "ä¸€åªå¯çˆ±çš„çŒ«å’ªåœ¨èŠ±å›­é‡Œç©è€ï¼Œé˜³å…‰æ˜åªšï¼ŒèŠ±æœµç››å¼€"
    
    print("="*60)
    print("Nano Banana (Gemini) å›¾ç‰‡ç”Ÿæˆå™¨")
    print("="*60)
    print(f"å¼€å§‹æ—¶é—´: {datetime.datetime.now()}")
    
    # åˆ›å»ºç”Ÿæˆå™¨å®ä¾‹
    generator = GeminiImageGenerator(API_KEY)
    
    # ç”Ÿæˆå›¾ç‰‡
    success, message = generator.generate_image(PROMPT)
    
    print("\n" + "="*60)
    if success:
        print("ğŸ‰ æ‰§è¡ŒæˆåŠŸï¼")
        print(f"âœ… {message}")
    else:
        print("âŒ æ‰§è¡Œå¤±è´¥ï¼")
        print(f"ğŸ’¥ {message}")
    
    print(f"ç»“æŸæ—¶é—´: {datetime.datetime.now()}")
    print("="*60)

if __name__ == "__main__":
    main()
```

### Bash è„šæœ¬ - è‡ªåŠ¨ä¿å­˜

```bash
#!/bin/bash

# Nano Banana (Gemini) å›¾ç‰‡ç”Ÿæˆ - Bashç‰ˆæœ¬
# æ”¯æŒéæµå¼è¾“å‡ºå’Œè‡ªåŠ¨ä¿å­˜base64å›¾ç‰‡åˆ°æœ¬åœ°

API_KEY="sk-YOUR_API_KEY"  # è¯·æ›¿æ¢ä¸ºä½ çš„å®é™…APIå¯†é’¥ã€æŒ‰æ¬¡è®¡è´¹ã€‘ç±»å‹
API_URL="https://api.laozhang.ai/v1/chat/completions"
PROMPT="a handsome dog under the tree"
OUTPUT_DIR="."

# ç”Ÿæˆæ—¶é—´æˆ³æ–‡ä»¶å
TIMESTAMP=$(date +"%Y%m%d_%H%M%S")
OUTPUT_FILE="gemini_generated_${TIMESTAMP}.png"
TEMP_FILE="temp_response_${TIMESTAMP}.json"

echo "ğŸš€ å¼€å§‹ç”Ÿæˆå›¾ç‰‡..."
echo "æç¤ºè¯: ${PROMPT}"
echo "è¾“å‡ºæ–‡ä»¶: ${OUTPUT_FILE}"

# å‘é€APIè¯·æ±‚å¹¶ä¿å­˜å“åº”
curl -s https://api.laozhang.ai/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer ${API_KEY}" \
  -d "{
    \"model\": \"gemini-2.5-flash-image-preview\",
    \"stream\": false,
    \"messages\": [
        {
            \"role\": \"user\",
            \"content\": \"${PROMPT}\"
        }
    ]
}" > "${TEMP_FILE}"

# æ£€æŸ¥è¯·æ±‚æ˜¯å¦æˆåŠŸ
if [ $? -eq 0 ]; then
    echo "âœ… APIè¯·æ±‚æˆåŠŸ"
    echo "ğŸ“„ å“åº”å·²ä¿å­˜åˆ°: ${TEMP_FILE}"
else
    echo "âŒ APIè¯·æ±‚å¤±è´¥"
    exit 1
fi

# é«˜æ•ˆæå–å¹¶ä¿å­˜base64å›¾ç‰‡
echo "ğŸ” æ­£åœ¨è§£æå“åº”æ•°æ®..."

# ä½¿ç”¨Pythonè„šæœ¬æå–å¹¶ä¿å­˜å›¾ç‰‡
python3 -c "
import json
import base64
import re
import sys

# è¯»å–APIå“åº”æ–‡ä»¶
try:
    with open('${TEMP_FILE}', 'r') as f:
        data = json.load(f)
    print('âœ… æˆåŠŸè§£æJSONå“åº”')
except Exception as e:
    print(f'âŒ JSONè§£æå¤±è´¥: {e}')
    sys.exit(1)

# æå–æ¶ˆæ¯å†…å®¹
content = ''
if 'choices' in data and len(data['choices']) > 0:
    choice = data['choices'][0]
    if 'message' in choice and 'content' in choice['message']:
        content = choice['message']['content']

if not content:
    print('âŒ æœªæ‰¾åˆ°æ¶ˆæ¯å†…å®¹')
    sys.exit(1)

print(f'ğŸ“ è·å–åˆ°æ¶ˆæ¯å†…å®¹ï¼Œé•¿åº¦: {len(content)} å­—ç¬¦')

# é«˜æ•ˆæå–base64å›¾ç‰‡æ•°æ® - æ”¯æŒå¤šç§æ ¼å¼
base64_pattern = r'data:image/([^;]+);base64,([A-Za-z0-9+/=]+)'
match = re.search(base64_pattern, content)

if match:
    image_format = match.group(1)  # png, jpg, etc.
    b64_data = match.group(2)
    
    print(f'ğŸ¨ å›¾åƒæ ¼å¼: {image_format}')
    print(f'ğŸ“ Base64æ•°æ®é•¿åº¦: {len(b64_data)} å­—ç¬¦')
    
    try:
        # è§£ç å¹¶ä¿å­˜å›¾ç‰‡
        image_data = base64.b64decode(b64_data)
        
        # æ ¹æ®æ£€æµ‹åˆ°çš„æ ¼å¼è®¾ç½®æ–‡ä»¶æ‰©å±•å
        output_file = '${OUTPUT_FILE}'.replace('.png', f'.{image_format}')
        
        with open(output_file, 'wb') as f:
            f.write(image_data)
        
        print(f'ğŸ–¼ï¸  å›¾ç‰‡ä¿å­˜æˆåŠŸ: {output_file}')
        print(f'ğŸ“Š æ–‡ä»¶å¤§å°: {len(image_data)} å­—èŠ‚')
        
        # è¾“å‡ºæˆåŠŸæ ‡å¿—
        print('SUCCESS:' + output_file)
        
    except Exception as e:
        print(f'âŒ å›¾ç‰‡å¤„ç†é”™è¯¯: {e}')
        sys.exit(1)
else:
    print('âš ï¸  æœªæ‰¾åˆ°base64å›¾ç‰‡æ•°æ®')
    print(f'ğŸ“„ å†…å®¹é¢„è§ˆ: {content[:300]}...')
    sys.exit(1)
"

# è·å–Pythonè„šæœ¬çš„æ‰§è¡Œç»“æœ
PYTHON_EXIT_CODE=$?
if [ $PYTHON_EXIT_CODE -eq 0 ]; then
    echo "âœ… å›¾ç‰‡æå–å’Œä¿å­˜å®Œæˆ"
else
    echo "âŒ å›¾ç‰‡å¤„ç†å¤±è´¥"
    echo "ğŸ” ä¿ç•™ä¸´æ—¶æ–‡ä»¶ç”¨äºè°ƒè¯•: ${TEMP_FILE}"
    exit 1
fi

# æ£€æŸ¥ç”Ÿæˆçš„å›¾ç‰‡æ–‡ä»¶
GENERATED_FILES=$(find . -name "gemini_generated_${TIMESTAMP}.*" -type f)

if [ ! -z "$GENERATED_FILES" ]; then
    echo "ğŸ‰ å›¾ç‰‡ç”Ÿæˆå®Œæˆï¼"
    for file in $GENERATED_FILES; do
        echo "ğŸ“ ä¿å­˜ä½ç½®: $(pwd)/${file}"
        echo "ğŸ“Š æ–‡ä»¶ä¿¡æ¯:"
        ls -lh "${file}"
    done
    
    # æ¸…ç†ä¸´æ—¶æ–‡ä»¶
    rm -f "${TEMP_FILE}"
    echo "ğŸ§¹ ä¸´æ—¶æ–‡ä»¶å·²æ¸…ç†"
else
    echo "âŒ å›¾ç‰‡æ–‡ä»¶æœªç”Ÿæˆ"
    echo "ğŸ” ä¿ç•™ä¸´æ—¶æ–‡ä»¶ç”¨äºè°ƒè¯•: ${TEMP_FILE}"
fi

echo "âœ¨ è„šæœ¬æ‰§è¡Œå®Œæˆ"
```

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### 1. å¿«é€ŸåŸå‹è®¾è®¡

```python
# ç”Ÿæˆäº§å“æ¦‚å¿µå›¾
concept = generator.generate_image(
    "ç°ä»£ç®€çº¦é£æ ¼çš„æ™ºèƒ½æ‰‹è¡¨è®¾è®¡ï¼Œç™½è‰²èƒŒæ™¯ï¼Œä¸“ä¸šäº§å“æ‘„å½±"
)

# ç”ŸæˆUIç•Œé¢
ui_design = generator.generate_image(
    "ç§»åŠ¨åº”ç”¨çš„ç™»å½•ç•Œé¢è®¾è®¡ï¼Œæ·±è‰²ä¸»é¢˜ï¼Œç°ä»£æ‰å¹³åŒ–é£æ ¼"
)
```

### 2. å†…å®¹åˆ›ä½œ

```python
# ç”Ÿæˆæ’å›¾
illustration = generator.generate_image(
    "å„¿ç«¥ç»˜æœ¬é£æ ¼çš„æ£®æ—åœºæ™¯ï¼Œæœ‰å¯çˆ±çš„åŠ¨ç‰©åœ¨ç©è€"
)

# ç”Ÿæˆç¤¾äº¤åª’ä½“é…å›¾
social_media = generator.generate_image(
    "åŠ±å¿—åè¨€é…å›¾ï¼Œæ¸©æš–çš„æ—¥å‡ºèƒŒæ™¯ï¼Œæç®€ä¸»ä¹‰è®¾è®¡"
)
```



## ğŸ’¡ æœ€ä½³å®è·µ

### 1. æç¤ºè¯ä¼˜åŒ–

```python
# âŒ è¿‡äºç®€å•
prompt = "cat"

# âœ… è¯¦ç»†æè¿°
prompt = """
ä¸€åªæ©˜è‰²è™æ–‘çŒ«ååœ¨çª—è¾¹ï¼Œ
é‡‘è‰²çš„å¤•é˜³æ´’åœ¨å®ƒèº«ä¸Šï¼Œ
èƒŒæ™¯æ˜¯æ¸©é¦¨çš„å®¶å±…ç¯å¢ƒï¼Œ
ä¸“ä¸šå® ç‰©æ‘„å½±é£æ ¼ï¼Œ
æ¸©æš–æŸ”å’Œçš„æ°›å›´
"""
```

### 2. Base64 å¤„ç†

```python
def save_base64_image(base64_str, output_path):
    """å®‰å…¨ä¿å­˜base64å›¾ç‰‡"""
    try:
        # ç§»é™¤æ•°æ®URLå‰ç¼€ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
        if "base64," in base64_str:
            base64_str = base64_str.split("base64,")[1]
        
        # è§£ç å¹¶ä¿å­˜
        image_data = base64.b64decode(base64_str)
        
        with open(output_path, 'wb') as f:
            f.write(image_data)
        
        return True
    except Exception as e:
        print(f"ä¿å­˜å¤±è´¥: {e}")
        return False
```



## ğŸ“Š æ€§èƒ½å¯¹æ¯”

| æŒ‡æ ‡ | Nano Banana | GPT-4o Image | Sora Image |
|------|-------------|--------------|------------|
| ç”Ÿæˆé€Ÿåº¦ | ~10ç§’ | ~20-30ç§’ | ~10-15ç§’ |
| ä»·æ ¼ | $0.025/å¼  | Tokenè®¡è´¹ | $0.01/å¼  |
| è¿”å›æ ¼å¼ | Base64 | Base64 | URL |
| è´¨é‡ | é«˜ | é«˜ | ä¸­é«˜ |
| å…¼å®¹æ€§ | å®Œå…¨å…¼å®¹ | - | å®Œå…¨å…¼å®¹ |

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ä»¤ç‰Œç±»å‹**ï¼šå¿…é¡»ä½¿ç”¨**æŒ‰æ¬¡è®¡è´¹**ç±»å‹çš„ä»¤ç‰Œ
2. **è°ƒç”¨ç«¯ç‚¹**ï¼šä½¿ç”¨ `/v1/chat/completions`ï¼Œä¸æ˜¯ `/v1/images/generations`
3. **è¿”å›æ ¼å¼**ï¼šè¿”å› base64 ç¼–ç ï¼Œéœ€è¦è‡ªè¡Œè§£ç ä¿å­˜
4. **æ¨¡å‹åç§°**ï¼š`gemini-2.5-flash-image-preview`ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰
5. **è¯·æ±‚æ ¼å¼**ï¼šä½¿ç”¨å¯¹è¯æ ¼å¼ï¼Œå°†æç¤ºè¯æ”¾åœ¨ user æ¶ˆæ¯çš„ content ä¸­

## ğŸ” å¸¸è§é—®é¢˜


### Q: base64 æ ¼å¼ç›¸æ¯” URL æœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ
A: base64 ç›´æ¥è¿”å›å›¾ç‰‡æ•°æ®ï¼Œæ— éœ€äºŒæ¬¡ä¸‹è½½ï¼Œé¿å…äº† URL å¤±æ•ˆçš„é—®é¢˜ï¼Œç‰¹åˆ«é€‚åˆéœ€è¦ç«‹å³å¤„ç†å›¾ç‰‡çš„åœºæ™¯ã€‚

### Q: å¦‚ä½•ä» sora_image åˆ‡æ¢åˆ° Nano Bananaï¼Ÿ
A: åªéœ€å°†æ¨¡å‹åä» `sora_image` æ”¹ä¸º `gemini-2.5-flash-image-preview`ï¼Œå¹¶ä¿®æ”¹ç»“æœå¤„ç†é€»è¾‘ï¼ˆä» URL æ”¹ä¸º base64ï¼‰ã€‚

### Q: æ‰¹é‡ç”Ÿæˆæœ‰é™åˆ¶å—ï¼Ÿ
A: æ²¡æœ‰å¹¶å‘é™åˆ¶ï¼Œä½†å»ºè®®æ§åˆ¶å¹¶å‘æ•°ä»¥è·å¾—æœ€ä½³æ€§èƒ½ã€‚



## ğŸ”— ç›¸å…³èµ„æº

- [Nano Banana å›¾åƒç¼–è¾‘](/api-capabilities/nano-banana-image-edit) - ç¼–è¾‘ç°æœ‰å›¾ç‰‡
- [ä»·æ ¼è®¡ç®—å™¨](https://api.laozhang.ai/account/pricing) - å®æ—¶ä»·æ ¼æŸ¥è¯¢
- [API å¯†é’¥ç®¡ç†](https://api.laozhang.ai/token) - åˆ›å»ºå’Œç®¡ç†ä»¤ç‰Œ
- [Sora ç”Ÿå›¾æ–‡æ¡£](/api-capabilities/sora-image-generation) - äº†è§£å…¼å®¹æ¨¡å‹

<Note>
ğŸ¨ **ä¸“ä¸šæç¤º**ï¼šNano Banana æ¨¡å‹ç‰¹åˆ«æ“…é•¿ç†è§£å¤æ‚çš„åœºæ™¯æè¿°å’Œè‰ºæœ¯é£æ ¼ï¼Œå……åˆ†åˆ©ç”¨è¯¦ç»†çš„æç¤ºè¯å¯ä»¥è·å¾—æ›´å¥½çš„æ•ˆæœï¼
</Note>