---
title: Gemini 2.5 Flash Image å›¾åƒç”Ÿæˆ
sidebarTitle: Gemini Flash Image
description: Google æœ€æ–°æ­£å¼ç‰ˆå›¾åƒç”Ÿæˆæ¨¡å‹ï¼Œæ”¯æŒè‡ªå®šä¹‰çºµæ¨ªæ¯”ï¼Œå…¼å®¹ OpenAI æ ¼å¼ï¼ŒæŒ‰æ¬¡è®¡è´¹ $0.025/å¼ 
icon: "sparkles"
---

## æ¨¡å‹ç®€ä»‹

Gemini 2.5 Flash Imageï¼ˆ`gemini-2.5-flash-image`ï¼‰æ˜¯ Google æ¨å‡ºçš„**æ­£å¼ç‰ˆ**å›¾åƒç”Ÿæˆæ¨¡å‹ï¼Œç›¸æ¯”é¢„è§ˆç‰ˆï¼ˆ`gemini-2.5-flash-image-preview`ï¼‰æ›´ç¨³å®šå¯é ã€‚æ”¯æŒ OpenAI å…¼å®¹æ ¼å¼å’Œ Google åŸç”Ÿæ ¼å¼ä¸¤ç§è°ƒç”¨æ–¹å¼ã€‚

<Note>
**ğŸ‰ æ­£å¼ç‰ˆå‘å¸ƒ**  
- âœ… ç¨³å®šå¯é ï¼Œç”Ÿäº§ç¯å¢ƒæ¨èä½¿ç”¨
- ğŸ¨ æ”¯æŒè‡ªå®šä¹‰çºµæ¨ªæ¯”ï¼ˆ16:9ã€9:16 ç­‰ 10 ç§æ¯”ä¾‹ï¼‰
- âš¡ å¹³å‡ 10 ç§’ç”Ÿæˆé«˜è´¨é‡å›¾ç‰‡
- ğŸ’° è¶…å€¼ä»·æ ¼ï¼š$0.025/å¼ ï¼ˆæ¯”å®˜æ–¹ä¾¿å®œ 37.5%ï¼‰
</Note>

## ğŸ”€ ä¸¤ç§è°ƒç”¨æ–¹å¼

Gemini Flash Image æ”¯æŒä¸¤ç§è°ƒç”¨ç«¯ç‚¹ï¼Œå„æœ‰ä¼˜åŠ¿ï¼š

| ç‰¹æ€§ | OpenAI å…¼å®¹æ¨¡å¼ | Google åŸç”Ÿæ ¼å¼ |
|------|----------------|----------------|
| **ç«¯ç‚¹** | `/v1/chat/completions` | `/v1beta/models/gemini-2.5-flash-image:generateContent` |
| **æ¨¡å‹å** | `gemini-2.5-flash-image` | URL ä¸­æŒ‡å®š |
| **å›¾ç‰‡å°ºå¯¸** | å›ºå®š 1:1 | æ”¯æŒ 10 ç§çºµæ¨ªæ¯” |
| **å…¼å®¹æ€§** | å®Œç¾å…¼å®¹ OpenAI SDK | éœ€è¦åŸç”Ÿè°ƒç”¨ |
| **è¿”å›æ ¼å¼** | Base64 | Base64 |
| **ä½¿ç”¨åœºæ™¯** | å¿«é€Ÿè¿ç§»ã€ç®€å•éœ€æ±‚ | éœ€è¦è‡ªå®šä¹‰å°ºå¯¸ |
| **çºµæ¨ªæ¯”æ”¯æŒ** | âŒ å¦ | âœ… 21:9, 16:9, 4:3, 3:2, 1:1, 9:16, 3:4, 2:3, 5:4, 4:5 |

<Tip>
ğŸ’¡ **å¦‚ä½•é€‰æ‹©ï¼Ÿ**
- å¦‚æœåªéœ€è¦æ­£æ–¹å½¢ï¼ˆ1:1ï¼‰å›¾ç‰‡ï¼Œä½¿ç”¨ **OpenAI å…¼å®¹æ¨¡å¼**æ›´ç®€å•
- å¦‚æœéœ€è¦å®½å±ï¼ˆ16:9ï¼‰ã€ç«–å±ï¼ˆ9:16ï¼‰ç­‰ç‰¹å®šæ¯”ä¾‹ï¼Œä½¿ç”¨ **Google åŸç”Ÿæ ¼å¼**
</Tip>

## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

- **âš¡ æé€Ÿå“åº”**ï¼šå¹³å‡ 10 ç§’ç”Ÿæˆï¼Œæ˜¾è‘—å¿«äº OpenAI ç³»åˆ—
- **ğŸ’° è¶…å€¼ä»·æ ¼**ï¼š$0.025/å¼ ï¼Œæ¯”å®˜æ–¹ä»·æ ¼ï¼ˆ$0.04/å¼ ï¼‰ä¾¿å®œ 37.5%
- **ğŸ”„ åŒé‡å…¼å®¹**ï¼šæ”¯æŒ OpenAI SDK å’Œ Google åŸç”Ÿæ ¼å¼
- **ğŸ“ çµæ´»å°ºå¯¸**ï¼šGoogle åŸç”Ÿæ ¼å¼æ”¯æŒ 10 ç§çºµæ¨ªæ¯”
- **ğŸ“¦ Base64 è¾“å‡º**ï¼šç›´æ¥è¿”å› base64 ç¼–ç å›¾ç‰‡æ•°æ®ï¼Œæ— éœ€äºŒæ¬¡ä¸‹è½½
- **ğŸ¨ Google æŠ€æœ¯**ï¼šåŸºäº Google æœ€æ–°å›¾åƒç”ŸæˆæŠ€æœ¯ï¼Œè´¨é‡å‡ºä¼—

## ğŸ“‹ æ¨¡å‹å¯¹æ¯”

| æ¨¡å‹ | æ¨¡å‹ ID | è®¡è´¹æ–¹å¼ | è€å¼ APIä»·æ ¼ | å®˜æ–¹ä»·æ ¼ | èŠ‚çœæ¯”ä¾‹ | é€Ÿåº¦ |
|------|---------|----------|-----------|----------|----------|------|
| **Gemini Flash Image** | `gemini-2.5-flash-image` | æŒ‰æ¬¡è®¡è´¹ | $0.025/å¼  | $0.04/å¼  | 37.5% | ~10ç§’ |
| **GPT-Image-1** | `gpt-image-1` | æŒ‰Token | $10è¾“å…¥/$40è¾“å‡º per M | - | - | ä¸­ç­‰ |
| **Flux Kontext Pro** | `flux-kontext-pro` | æŒ‰æ¬¡è®¡è´¹ | $0.035/å¼  | $0.04/å¼  | 12.5% | å¿«é€Ÿ |
| **Sora Image** | `sora_image` | æŒ‰æ¬¡è®¡è´¹ | $0.01/å¼  | - | - | è¾ƒæ…¢ |

<Tip>
ğŸ’¡ **ä»·æ ¼ä¼˜åŠ¿**  
- æ¯”å®˜æ–¹ä»·æ ¼ä¾¿å®œ 37.5%
- å……å€¼ 100 ç¾é‡‘ +10% èµ é€ï¼Œå åŠ æ±‡ç‡ä¼˜åŠ¿ï¼Œæ€»ä½“æ˜¯å®˜ç½‘ 7.3 æŠ˜
- ä»·æ ¼é€æ˜å¯é¢„æµ‹ï¼Œæ— éœ€æ‹…å¿ƒ Token æ¶ˆè€—
</Tip>

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‡†å¤‡å·¥ä½œ

<Steps>
  <Step title="åˆ›å»ºä»¤ç‰Œ">
    ç™»å½• [è€å¼ APIä»¤ç‰Œç®¡ç†](https://api.laozhang.ai/token) åˆ›å»º**æŒ‰æ¬¡è®¡è´¹**ç±»å‹çš„ä»¤ç‰Œ
    
    ![ä»¤ç‰Œåˆ›å»ºç•Œé¢](/images/token-create-per-request.png)
  </Step>
  <Step title="é€‰æ‹©è®¡è´¹æ–¹å¼">
    **é‡è¦**ï¼šå¿…é¡»é€‰æ‹©"æŒ‰æ¬¡è®¡è´¹"ç±»å‹ï¼Œä¸è¦é€‰æ‹©"æŒ‰é‡è®¡è´¹"
  </Step>
  <Step title="ä¿å­˜ä»¤ç‰Œ">
    å¤åˆ¶ç”Ÿæˆçš„ä»¤ç‰Œï¼Œæ ¼å¼ä¸º `sk-xxxxxx`
  </Step>
</Steps>

<Tip>
ğŸ’° **ä»·æ ¼ä¼˜åŠ¿è¯¦è§£**  
- **è€å¼ APIä»·æ ¼**ï¼š$0.025/å¼ ï¼ˆæ¯”å®˜ç½‘ä¾¿å®œ 37.5%ï¼‰
- **å®˜ç½‘ä»·æ ¼**ï¼š$0.04/å¼ 
- **å……å€¼ä¼˜æƒ **ï¼šå……å€¼ 100 ç¾é‡‘ +10% èµ é€
- **æ±‡ç‡ä¼˜åŠ¿**ï¼šå åŠ æ±‡ç‡ä¼˜åŠ¿ï¼Œ**æ€»ä½“ç›¸å½“äºå®˜ç½‘ 7.3 æŠ˜**
</Tip>

## æ–¹å¼ä¸€ï¼šOpenAI å…¼å®¹æ¨¡å¼ï¼ˆ1:1 å›¾ç‰‡ï¼‰

### åŸºç¡€ç¤ºä¾‹ - Curl

```bash
curl -X POST "https://api.laozhang.ai/v1/chat/completions" \
     -H "Authorization: Bearer $API_KEY" \
     -H "Content-Type: application/json" \
     -d '{
    "model": "gemini-2.5-flash-image",
    "stream": false,
    "messages": [
        {
            "role": "user",
            "content": "a beautiful sunset over mountains"
        }
    ]
}'
```

### Python SDK ç¤ºä¾‹

```python
from openai import OpenAI
import base64
import re

client = OpenAI(
    api_key="sk-YOUR_API_KEY",
    base_url="https://api.laozhang.ai/v1"
)

response = client.chat.completions.create(
    model="gemini-2.5-flash-image",
    messages=[
        {
            "role": "user",
            "content": "a beautiful sunset over mountains"
        }
    ]
)

# æå– base64 å›¾ç‰‡æ•°æ®
content = response.choices[0].message.content
match = re.search(r'!\[.*?\]\((data:image/png;base64,.*?)\)', content)

if match:
    base64_data = match.group(1).split(',')[1]
    image_data = base64.b64decode(base64_data)
    
    with open('output.png', 'wb') as f:
        f.write(image_data)
    print("âœ… å›¾ç‰‡å·²ä¿å­˜: output.png")
```

## æ–¹å¼äºŒï¼šGoogle åŸç”Ÿæ ¼å¼ï¼ˆæ”¯æŒè‡ªå®šä¹‰çºµæ¨ªæ¯”ï¼‰

### æ”¯æŒçš„çºµæ¨ªæ¯”

| ç±»å‹ | çºµæ¨ªæ¯”é€‰é¡¹ |
|------|-----------|
| **æ¨ªå‘** | 21:9ï¼ˆè¶…å®½å±ï¼‰, 16:9ï¼ˆå®½å±ï¼‰, 4:3, 3:2 |
| **æ­£æ–¹å½¢** | 1:1 |
| **çºµå‘** | 9:16ï¼ˆç«–å±ï¼‰, 3:4, 2:3 |
| **å…¶ä»–** | 5:4, 4:5 |

### ç®€å• Curl ç¤ºä¾‹

```bash
curl -s -X POST "https://api.laozhang.ai/v1beta/models/gemini-2.5-flash-image:generateContent" \
  -H "Authorization: Bearer $API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "contents": [{
      "parts": [
        {"text": "a beautiful sunset over mountains"}
      ]
    }],
    "generationConfig": {
      "responseModalities": ["IMAGE"],
      "imageConfig": {
        "aspectRatio": "16:9"
      }
    }
  }' \
  | jq -r '.candidates[0].content.parts[0].inlineData.data' \
  | base64 --decode > output.png
```

### Python å®Œæ•´å·¥å…·è„šæœ¬

<Accordion title="å±•å¼€æŸ¥çœ‹å®Œæ•´ Python è„šæœ¬ï¼ˆæ”¯æŒçºµæ¨ªæ¯”é…ç½®ï¼‰">

```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-

"""
Gemini å›¾ç‰‡ç”Ÿæˆå·¥å…· - Pythonç‰ˆæœ¬
ä½¿ç”¨ Google Gemini 2.5 Flash Image æ¨¡å‹ç”Ÿæˆå›¾ç‰‡ï¼Œæ”¯æŒè‡ªå®šä¹‰çºµæ¨ªæ¯”

æ”¯æŒçš„çºµæ¨ªæ¯”ï¼š
- æ¨ªå‘: 21:9, 16:9, 4:3, 3:2
- æ­£æ–¹å½¢: 1:1
- çºµå‘: 9:16, 3:4, 2:3
- å…¶ä»–: 5:4, 4:5
"""

import requests
import base64
import os
import datetime
from typing import Optional, Tuple

class GeminiImageGenerator:
    """Gemini å›¾ç‰‡ç”Ÿæˆå™¨"""

    # æ”¯æŒçš„çºµæ¨ªæ¯”
    SUPPORTED_ASPECT_RATIOS = [
        "21:9", "16:9", "4:3", "3:2", "1:1",
        "9:16", "3:4", "2:3", "5:4", "4:5"
    ]

    def __init__(self, api_key: str, api_url: str = "https://api.laozhang.ai/v1beta/models/gemini-2.5-flash-image:generateContent"):
        """
        åˆå§‹åŒ–å›¾ç‰‡ç”Ÿæˆå™¨

        å‚æ•°:
            api_key: APIå¯†é’¥
            api_url: APIåœ°å€ï¼ˆé»˜è®¤ä½¿ç”¨ Google åŸç”Ÿ Gemini APIï¼‰
        """
        self.api_key = api_key
        self.api_url = api_url
        self.headers = {
            "Content-Type": "application/json",
            "Authorization": f"Bearer {api_key}"
        }

    def generate_image(self, prompt: str, aspect_ratio: Optional[str] = "1:1",
                      output_dir: str = ".") -> Tuple[bool, str]:
        """
        ç”Ÿæˆå›¾ç‰‡å¹¶ä¿å­˜åˆ°æœ¬åœ°

        å‚æ•°:
            prompt: å›¾ç‰‡æè¿°ï¼ˆæç¤ºè¯ï¼‰
            aspect_ratio: çºµæ¨ªæ¯”ï¼Œå¦‚ "16:9", "1:1" ç­‰ï¼ˆé»˜è®¤ 1:1ï¼‰
            output_dir: ä¿å­˜ç›®å½•ï¼ˆé»˜è®¤å½“å‰ç›®å½•ï¼‰

        è¿”å›:
            (æ˜¯å¦æˆåŠŸ, ç»“æœæ¶ˆæ¯)
        """
        print(f"ğŸš€ å¼€å§‹ç”Ÿæˆå›¾ç‰‡...")
        print(f"ğŸ“ æç¤ºè¯: {prompt}")
        print(f"ğŸ“ çºµæ¨ªæ¯”: {aspect_ratio}")

        # éªŒè¯çºµæ¨ªæ¯”
        if aspect_ratio and aspect_ratio not in self.SUPPORTED_ASPECT_RATIOS:
            return False, f"ä¸æ”¯æŒçš„çºµæ¨ªæ¯” {aspect_ratio}ã€‚æ”¯æŒ: {', '.join(self.SUPPORTED_ASPECT_RATIOS)}"

        # ç”Ÿæˆæ–‡ä»¶å
        timestamp = datetime.datetime.now().strftime("%Y%m%d_%H%M%S")
        output_file = os.path.join(output_dir, f"gemini_{timestamp}.png")

        try:
            # æ„å»ºè¯·æ±‚æ•°æ®
            payload = {
                "contents": [{
                    "parts": [{"text": prompt}]
                }]
            }

            # æ·»åŠ çºµæ¨ªæ¯”é…ç½®
            if aspect_ratio:
                payload["generationConfig"] = {
                    "responseModalities": ["IMAGE"],
                    "imageConfig": {
                        "aspectRatio": aspect_ratio
                    }
                }

            print("ğŸ“¡ å‘é€è¯·æ±‚åˆ° Gemini API...")

            # å‘é€è¯·æ±‚
            response = requests.post(
                self.api_url,
                headers=self.headers,
                json=payload,
                timeout=120
            )

            if response.status_code != 200:
                return False, f"API è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç : {response.status_code}"

            # è§£æå“åº”
            result = response.json()

            # æå–å›¾ç‰‡æ•°æ®
            if "candidates" not in result or len(result["candidates"]) == 0:
                return False, "æœªæ‰¾åˆ°å›¾ç‰‡æ•°æ®"

            candidate = result["candidates"][0]
            if "content" not in candidate or "parts" not in candidate["content"]:
                return False, "å“åº”æ ¼å¼é”™è¯¯"

            parts = candidate["content"]["parts"]
            image_data = None

            for part in parts:
                if "inlineData" in part and "data" in part["inlineData"]:
                    image_data = part["inlineData"]["data"]
                    break

            if not image_data:
                return False, "æœªæ‰¾åˆ°å›¾ç‰‡æ•°æ®"

            # è§£ç å¹¶ä¿å­˜å›¾ç‰‡
            print("ğŸ’¾ æ­£åœ¨ä¿å­˜å›¾ç‰‡...")
            decoded_data = base64.b64decode(image_data)

            os.makedirs(os.path.dirname(output_file) if os.path.dirname(output_file) else ".", exist_ok=True)

            with open(output_file, 'wb') as f:
                f.write(decoded_data)

            file_size = len(decoded_data) / 1024  # KB
            print(f"âœ… å›¾ç‰‡å·²ä¿å­˜: {output_file}")
            print(f"ğŸ“Š æ–‡ä»¶å¤§å°: {file_size:.2f} KB")

            return True, f"æˆåŠŸä¿å­˜å›¾ç‰‡: {output_file}"

        except requests.exceptions.Timeout:
            return False, "è¯·æ±‚è¶…æ—¶ï¼ˆ120ç§’ï¼‰"
        except requests.exceptions.ConnectionError:
            return False, "ç½‘ç»œè¿æ¥é”™è¯¯"
        except Exception as e:
            return False, f"é”™è¯¯: {str(e)}"

def main():
    """ä¸»å‡½æ•° - ä½¿ç”¨ç¤ºä¾‹"""

    # ========== é…ç½®åŒº ==========
    # 1. è®¾ç½®ä½ çš„ API å¯†é’¥
    API_KEY = "sk-YOUR_API_KEY"

    # 2. è¾“å…¥å›¾ç‰‡æè¿°ï¼ˆæç¤ºè¯ï¼‰
    PROMPT = "a beautiful sunset over mountains"

    # 3. é€‰æ‹©çºµæ¨ªæ¯”ï¼ˆå¯é€‰ï¼‰
    # æ”¯æŒ: 21:9, 16:9, 4:3, 3:2, 1:1, 9:16, 3:4, 2:3, 5:4, 4:5
    ASPECT_RATIO = "16:9"  # å®½å±
    # ASPECT_RATIO = "1:1"   # æ­£æ–¹å½¢
    # ASPECT_RATIO = "9:16"  # ç«–å±

    # 4. è®¾ç½®ä¿å­˜ç›®å½•ï¼ˆå¯é€‰ï¼‰
    OUTPUT_DIR = "."  # å½“å‰ç›®å½•
    # ============================

    print("="*60)
    print("Gemini å›¾ç‰‡ç”Ÿæˆå·¥å…·")
    print("="*60)
    print(f"â° å¼€å§‹æ—¶é—´: {datetime.datetime.now().strftime('%Y-%m-%d %H:%M:%S')}")
    print("="*60)

    # åˆ›å»ºç”Ÿæˆå™¨å¹¶ç”Ÿæˆå›¾ç‰‡
    generator = GeminiImageGenerator(API_KEY)
    success, message = generator.generate_image(
        prompt=PROMPT,
        aspect_ratio=ASPECT_RATIO,
        output_dir=OUTPUT_DIR
    )

    # æ˜¾ç¤ºç»“æœ
    print("\n" + "="*60)
    if success:
        print("ğŸ‰ ç”ŸæˆæˆåŠŸï¼")
        print(f"âœ… {message}")
    else:
        print("âŒ ç”Ÿæˆå¤±è´¥")
        print(f"ğŸ’¥ {message}")
        print("\nå»ºè®®æ£€æŸ¥:")
        print("  1. API å¯†é’¥æ˜¯å¦æ­£ç¡®")
        print("  2. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸")
        print("  3. æç¤ºè¯æ˜¯å¦åˆç†")

    print(f"â° ç»“æŸæ—¶é—´: {datetime.datetime.now().strftime('%Y-%m-%d %H:%M:%S')}")
    print("="*60)

if __name__ == "__main__":
    main()
```

</Accordion>

### Bash è„šæœ¬ç¤ºä¾‹

<Accordion title="å±•å¼€æŸ¥çœ‹å®Œæ•´ Bash è„šæœ¬ï¼ˆæ”¯æŒçºµæ¨ªæ¯”é…ç½®ï¼‰">

```bash
#!/bin/bash

# ============================================================
# Gemini å›¾ç‰‡ç”Ÿæˆå·¥å…· - Bash/Curl ç‰ˆæœ¬
# ä½¿ç”¨ Google Gemini 2.5 Flash Image æ¨¡å‹ç”Ÿæˆå›¾ç‰‡
# ============================================================

# ========== é…ç½®åŒº ==========
# 1. è®¾ç½®ä½ çš„ API å¯†é’¥
API_KEY="sk-YOUR_API_KEY"

# 2. è¾“å…¥å›¾ç‰‡æè¿°ï¼ˆæç¤ºè¯ï¼‰
PROMPT="a beautiful sunset over mountains"

# 3. é€‰æ‹©çºµæ¨ªæ¯”ï¼ˆå¯é€‰ï¼‰
# æ”¯æŒ: 21:9, 16:9, 4:3, 3:2, 1:1, 9:16, 3:4, 2:3, 5:4, 4:5
ASPECT_RATIO="16:9"  # å®½å±
# ASPECT_RATIO="1:1"   # æ­£æ–¹å½¢
# ASPECT_RATIO="9:16"  # ç«–å±

# 4. è®¾ç½®è¾“å‡ºæ–‡ä»¶å
OUTPUT_FILE="gemini_generated_$(date +%Y%m%d_%H%M%S).png"

# 5. API ç«¯ç‚¹
API_URL="https://api.laozhang.ai/v1beta/models/gemini-2.5-flash-image:generateContent"
# ============================

# æ£€æŸ¥ä¾èµ–
if ! command -v jq &> /dev/null; then
    echo "âŒ é”™è¯¯: éœ€è¦å®‰è£… jq å·¥å…·"
    echo ""
    echo "å®‰è£…æ–¹æ³•:"
    echo "  macOS:   brew install jq"
    echo "  Ubuntu:  sudo apt-get install jq"
    echo "  CentOS:  sudo yum install jq"
    echo ""
    exit 1
fi

echo "============================================================"
echo "Gemini å›¾ç‰‡ç”Ÿæˆå·¥å…·"
echo "============================================================"
echo "â° å¼€å§‹æ—¶é—´: $(date '+%Y-%m-%d %H:%M:%S')"
echo "============================================================"
echo "ğŸš€ å¼€å§‹ç”Ÿæˆå›¾ç‰‡..."
echo "ğŸ“ æç¤ºè¯: ${PROMPT}"
echo "ğŸ“ çºµæ¨ªæ¯”: ${ASPECT_RATIO}"
echo "ğŸ“¡ å‘é€è¯·æ±‚åˆ° Gemini API..."

# æ„å»º JSON è¯·æ±‚
REQUEST_JSON=$(jq -n \
  --arg prompt "$PROMPT" \
  --arg ratio "$ASPECT_RATIO" \
  '{
    contents: [{
      parts: [{text: $prompt}]
    }],
    generationConfig: {
      responseModalities: ["IMAGE"],
      imageConfig: {
        aspectRatio: $ratio
      }
    }
  }')

# å‘é€è¯·æ±‚
RESPONSE=$(curl -s -X POST "${API_URL}" \
  -H "Authorization: Bearer ${API_KEY}" \
  -H "Content-Type: application/json" \
  -d "${REQUEST_JSON}")

# æ£€æŸ¥é”™è¯¯
if echo "${RESPONSE}" | jq -e '.error' &> /dev/null; then
    echo "âŒ ç”Ÿæˆå¤±è´¥"
    echo "ğŸ’¥ é”™è¯¯ä¿¡æ¯:"
    echo "${RESPONSE}" | jq -r '.error.message // .error'
    echo ""
    echo "å»ºè®®æ£€æŸ¥:"
    echo "  1. API å¯†é’¥æ˜¯å¦æ­£ç¡®"
    echo "  2. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸"
    echo "  3. æç¤ºè¯æ˜¯å¦åˆç†"
    exit 1
fi

# æå–å›¾ç‰‡æ•°æ®
echo "ğŸ’¾ æ­£åœ¨ä¿å­˜å›¾ç‰‡..."
IMAGE_DATA=$(echo "${RESPONSE}" | jq -r '.candidates[0].content.parts[0].inlineData.data' 2>/dev/null)

if [ -z "$IMAGE_DATA" ] || [ "$IMAGE_DATA" = "null" ]; then
    echo "âŒ æœªæ‰¾åˆ°å›¾ç‰‡æ•°æ®"
    echo "ğŸ“‹ å“åº”å†…å®¹:"
    echo "${RESPONSE}" | jq '.' 2>/dev/null || echo "${RESPONSE}"
    exit 1
fi

# è§£ç å¹¶ä¿å­˜å›¾ç‰‡
echo "${IMAGE_DATA}" | base64 --decode > "${OUTPUT_FILE}"

# æ£€æŸ¥ç»“æœ
if [ -f "${OUTPUT_FILE}" ]; then
    FILE_SIZE=$(du -h "${OUTPUT_FILE}" | cut -f1)
    echo "âœ… å›¾ç‰‡å·²ä¿å­˜: ${OUTPUT_FILE}"
    echo "ğŸ“Š æ–‡ä»¶å¤§å°: ${FILE_SIZE}"
    echo ""
    echo "============================================================"
    echo "ğŸ‰ ç”ŸæˆæˆåŠŸï¼"
    echo "â° ç»“æŸæ—¶é—´: $(date '+%Y-%m-%d %H:%M:%S')"
    echo "============================================================"
else
    echo "âŒ å›¾ç‰‡ä¿å­˜å¤±è´¥"
    exit 1
fi
```

</Accordion>

## ğŸ’¡ æœ€ä½³å®è·µ

### æç¤ºè¯ä¼˜åŒ–

<CardGroup cols={2}>
  <Card title="æ˜ç¡®æè¿°" icon="pen-fancy">
    ä½¿ç”¨å…·ä½“ã€è¯¦ç»†çš„æè¿°ï¼ŒåŒ…æ‹¬ä¸»ä½“ã€é£æ ¼ã€é¢œè‰²ã€å…‰çº¿ç­‰
  </Card>
  <Card title="å‚è€ƒé£æ ¼" icon="palette">
    å¯ä»¥æŒ‡å®šè‰ºæœ¯é£æ ¼ï¼š"æ²¹ç”»é£æ ¼"ã€"æ°´å½©ç”»"ã€"èµ›åšæœ‹å…‹é£æ ¼"ç­‰
  </Card>
  <Card title="é¿å…æ¨¡ç³Š" icon="circle-xmark">
    é¿å…ä½¿ç”¨è¿‡äºæŠ½è±¡æˆ–æ¨¡ç³Šçš„è¯æ±‡
  </Card>
  <Card title="è‹±æ–‡ä¼˜å…ˆ" icon="language">
    è‹±æ–‡æç¤ºè¯é€šå¸¸æ•ˆæœæ›´å¥½ï¼Œä¸­æ–‡ä¹Ÿæ”¯æŒ
  </Card>
</CardGroup>

### çºµæ¨ªæ¯”é€‰æ‹©å»ºè®®

| ç”¨é€” | æ¨èçºµæ¨ªæ¯” |
|------|-----------|
| ç¤¾äº¤åª’ä½“æ¨ªå›¾ | 16:9 |
| æ‰‹æœºå£çº¸/ç«–å± | 9:16 |
| Instagram æ­£æ–¹å½¢ | 1:1 |
| æ‰“å°ç…§ç‰‡ | 4:3 æˆ– 3:2 |
| ç”µå½±æµ·æŠ¥ | 2:3 |
| æ¨ªå¹…å¹¿å‘Š | 21:9 |

## â“ å¸¸è§é—®é¢˜

<AccordionGroup>
  <Accordion title="å¦‚ä½•é€‰æ‹©è°ƒç”¨æ–¹å¼ï¼Ÿ">
    - å¦‚æœåªéœ€è¦ 1:1 æ­£æ–¹å½¢å›¾ç‰‡ï¼Œä½¿ç”¨ **OpenAI å…¼å®¹æ¨¡å¼**æ›´ç®€å•ï¼Œå®Œç¾å…¼å®¹ç°æœ‰ä»£ç 
    - å¦‚æœéœ€è¦ç‰¹å®šçºµæ¨ªæ¯”ï¼ˆå¦‚ 16:9 å®½å±ï¼‰ï¼Œä½¿ç”¨ **Google åŸç”Ÿæ ¼å¼**
    - ä¸¤ç§æ–¹å¼ä»·æ ¼ç›¸åŒï¼Œéƒ½æ˜¯ $0.025/å¼ 
  </Accordion>

  <Accordion title="æ”¯æŒå“ªäº›çºµæ¨ªæ¯”ï¼Ÿ">
    Google åŸç”Ÿæ ¼å¼æ”¯æŒ 10 ç§çºµæ¨ªæ¯”ï¼š
    - æ¨ªå‘ï¼š21:9, 16:9, 4:3, 3:2
    - æ­£æ–¹å½¢ï¼š1:1
    - çºµå‘ï¼š9:16, 3:4, 2:3
    - å…¶ä»–ï¼š5:4, 4:5
  </Accordion>

  <Accordion title="ä¸ Preview ç‰ˆæœ¬æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ">
    - **æ­£å¼ç‰ˆ** (`gemini-2.5-flash-image`)ï¼šç¨³å®šå¯é ï¼Œç”Ÿäº§ç¯å¢ƒæ¨è
    - **é¢„è§ˆç‰ˆ** (`gemini-2.5-flash-image-preview`)ï¼šå³å°†ä¸‹çº¿ï¼Œå»ºè®®è¿ç§»
    - ä»·æ ¼ã€é€Ÿåº¦ã€è´¨é‡å®Œå…¨ç›¸åŒï¼Œåªéœ€æ›´æ–°æ¨¡å‹åç§°å³å¯è¿ç§»
  </Accordion>

  <Accordion title="å¦‚ä½•è·å–æ›´å¥½çš„ç”Ÿæˆæ•ˆæœï¼Ÿ">
    1. **è¯¦ç»†æè¿°**ï¼šæä¾›å…·ä½“çš„ç»†èŠ‚ï¼ˆé¢œè‰²ã€é£æ ¼ã€åœºæ™¯ç­‰ï¼‰
    2. **è‹±æ–‡æç¤ºè¯**ï¼šè‹±æ–‡é€šå¸¸æ•ˆæœæ›´å¥½
    3. **å‚è€ƒé£æ ¼**ï¼šæŒ‡å®šè‰ºæœ¯é£æ ¼ï¼ˆå¦‚"æ²¹ç”»é£æ ¼"ã€"æ°´å½©ç”»"ï¼‰
    4. **å¤šæ¬¡å°è¯•**ï¼šå¯ä»¥ç”¨ä¸åŒçš„æç¤ºè¯å°è¯•ï¼Œä»·æ ¼ä½å»‰
  </Accordion>

  <Accordion title="è¿”å›çš„ Base64 æ•°æ®å¦‚ä½•ä½¿ç”¨ï¼Ÿ">
    Base64 æ•°æ®å¯ä»¥ç›´æ¥åœ¨ç½‘é¡µä¸­æ˜¾ç¤ºï¼š
    ```html
    <img src="data:image/png;base64,iVBORw0KG..." />
    ```
    æˆ–è€…è§£ç ä¿å­˜ä¸ºæ–‡ä»¶ï¼ˆå‚è€ƒä¸Šé¢çš„ä»£ç ç¤ºä¾‹ï¼‰
  </Accordion>
</AccordionGroup>

## ğŸ”— ç›¸å…³èµ„æº

<CardGroup cols={2}>
  <Card title="å›¾åƒç¼–è¾‘" icon="paintbrush" href="/api-capabilities/gemini-flash-image-edit">
    å­¦ä¹ å¦‚ä½•ä½¿ç”¨ Gemini Flash Image ç¼–è¾‘å’Œæ”¹é€ ç°æœ‰å›¾ç‰‡
  </Card>
  <Card title="API å‚è€ƒ" icon="code" href="/api-reference/chat-completions">
    æŸ¥çœ‹å®Œæ•´çš„ API æ¥å£æ–‡æ¡£
  </Card>
  <Card title="ä»¤ç‰Œç®¡ç†" icon="key" href="https://api.laozhang.ai/token">
    åˆ›å»ºå’Œç®¡ç†ä½ çš„ API ä»¤ç‰Œ
  </Card>
  <Card title="ä»·æ ¼è¯´æ˜" icon="dollar-sign" href="/pricing">
    æŸ¥çœ‹è¯¦ç»†çš„ä»·æ ¼è¡¨å’Œè®¡è´¹è¯´æ˜
  </Card>
</CardGroup>

