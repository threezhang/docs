---
title: Nano Banana Pro å›¾æ”¹å›¾
seoTitle: "Nano Banana Pro é«˜æ¸…å›¾æ”¹å›¾ API - 4K å¤šå›¾èåˆé£æ ¼è½¬æ¢ | è€å¼ API"
sidebarTitle: Nano Banana Pro å›¾æ”¹å›¾
description: "Nano Banana Pro å›¾æ”¹å›¾ APIï¼šåŸºäº Gemini 3 Pro çš„ä¸“ä¸šå›¾åƒç¼–è¾‘ã€‚$0.05/æ¬¡ï¼Œæ”¯æŒ 4K è¾“å‡ºã€å¤æ‚æŒ‡ä»¤ã€å¤šå›¾èåˆï¼ˆæœ€å¤š 14 å¼ ï¼‰ã€‚"
icon: "paintbrush"
---

<Note>
**ğŸ§  æ™ºèƒ½ç¼–è¾‘æ–°é«˜åº¦**
Nano Banana Pro Edit ä½¿ç”¨ Google **Gemini 3 Pro** æ¨¡å‹ï¼Œå…·å¤‡æå¼ºçš„è¯­ä¹‰ç†è§£èƒ½åŠ›ã€‚å®ƒä¸ä»…æ˜¯"ä¿®æ”¹å›¾ç‰‡"ï¼Œè€Œæ˜¯"ç†è§£å¹¶é‡ç»˜å›¾ç‰‡"ã€‚
</Note>

<CardGroup cols={2}>
  <Card title="ğŸ å…è´¹æµ‹è¯•" icon="gift" href="https://api.laozhang.ai">
    æ³¨å†Œé€ **$0.05**ï¼Œå…è´¹æµ‹è¯•ä¸€æ¬¡ Nano Banana Pro
  </Card>
  <Card title="ğŸš€ åœ¨çº¿æµ‹è¯•" icon="play" href="https://images.laozhang.ai/">
    AI Images å³åˆ»ä½“éªŒï¼Œæ— éœ€å†™ä»£ç 
  </Card>
</CardGroup>

## å‰ç½®è¦æ±‚

<Steps>
  <Step title="è·å– API Key">
    ç™»å½• [laozhang.ai æ§åˆ¶å°](https://api.laozhang.ai) è·å– API å¯†é’¥
  </Step>
  <Step title="é…ç½®è®¡è´¹æ¨¡å¼">
    ç¼–è¾‘ä»¤ç‰Œè®¾ç½®ï¼Œé€‰æ‹©ä»¥ä¸‹ä»»ä¸€è®¡è´¹æ¨¡å¼ï¼ˆä¸¤è€…ä»·æ ¼ç›¸åŒï¼‰ï¼š

    - **æŒ‰é‡ä¼˜å…ˆ**ï¼ˆæ¨èï¼‰ï¼šä¼˜å…ˆä½¿ç”¨ä½™é¢è®¡è´¹ï¼Œä½™é¢ä¸è¶³æ—¶è‡ªåŠ¨åˆ‡æ¢
    - **æŒ‰æ¬¡è®¡è´¹**ï¼šæ¯æ¬¡è°ƒç”¨ç›´æ¥æ‰£è´¹ã€‚é€‚åˆé¢„ç®—æ§åˆ¶ä¸¥æ ¼çš„åœºæ™¯

    <Note>
    ä¸¤ç§æ¨¡å¼**ä»·æ ¼å®Œå…¨ç›¸åŒ**ï¼Œéƒ½æ˜¯ \$0.05/æ¬¡ï¼Œä»…æ‰£è´¹æ–¹å¼ä¸åŒã€‚
    </Note>

    <img src="/images/sora2-token-setting.png" alt="ä»¤ç‰Œè®¾ç½®" />

    <Warning>
    å¦‚æœæœªè®¾ç½®è®¡è´¹æ¨¡å¼ï¼ŒAPIè°ƒç”¨ä¼šå¤±è´¥ã€‚å¿…é¡»å…ˆå®Œæˆæ­¤é…ç½®ï¼
    </Warning>
  </Step>
</Steps>

## æ¨¡å‹ç®€ä»‹

**Nano Banana Pro ç¼–è¾‘** (`gemini-3-pro-image-preview`) ä¸“ä¸ºéœ€è¦ç²¾å‡†æ§åˆ¶å’Œé«˜è´¨é‡è¾“å‡ºçš„åœºæ™¯è®¾è®¡ã€‚ä¸åŒäºç®€å•çš„æ»¤é•œæˆ–ä¿®è¡¥ï¼Œå®ƒèƒ½ç†è§£å¤æ‚çš„è‡ªç„¶è¯­è¨€æŒ‡ä»¤ï¼Œå¯¹ç”»é¢è¿›è¡Œé€»è¾‘æ€§çš„ä¿®æ”¹ã€‚

### æ ¸å¿ƒèƒ½åŠ›

- **ç²¾å‡†å±€éƒ¨ä¿®æ”¹**: "æŠŠé‚£åªçŒ«æ¢æˆä¸€åªæˆ´çœ¼é•œçš„ç‹—ï¼Œä½†ä¿æŒå§¿åŠ¿ä¸å˜"
- **é£æ ¼å®Œç¾è¿ç§»**: "æŠŠè¿™å¼ ç…§ç‰‡å˜æˆèµ›åšæœ‹å…‹é£æ ¼çš„æ²¹ç”»ï¼Œå…‰çº¿è¦æ›´åŠ å¼ºçƒˆ"
- **å¤šå›¾åˆ›æ„èåˆ**: "ç»“åˆè¿™ä¸¤å¼ å›¾ï¼Œç”Ÿæˆä¸€å¼ å…¨æ–°çš„æµ·æŠ¥"
- **4K é«˜æ¸…è¾“å‡º**: æ”¯æŒè¾“å‡º 2K/4K åˆ†è¾¨ç‡çš„ç¼–è¾‘ç»“æœ

## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

- **âš¡ æé€Ÿå“åº”**ï¼šå¹³å‡ 10 ç§’å®Œæˆç¼–è¾‘
- **ğŸ’° è¶…å€¼ä»·æ ¼**ï¼š\$0.05/æ¬¡ï¼ˆæ¯”å®˜ç½‘ \$0.24 ä¾¿å®œ 79%ï¼‰
- **ğŸ”„ åŒé‡å…¼å®¹**ï¼šæ”¯æŒ OpenAI SDK å’Œ Google åŸç”Ÿæ ¼å¼
- **ğŸ“ çµæ´»å°ºå¯¸**ï¼šGoogle åŸç”Ÿæ ¼å¼æ”¯æŒ 10 ç§çºµæ¨ªæ¯”
- **ğŸ–¼ï¸ é«˜åˆ†è¾¨ç‡**ï¼šæ”¯æŒ 1Kã€2Kã€4K ä¸‰ç§åˆ†è¾¨ç‡è¾“å‡º
- **ğŸ§  æ€è€ƒæ¨¡å¼**ï¼šå†…ç½®æ¨ç†èƒ½åŠ›ï¼Œç†è§£å¤æ‚ç¼–è¾‘æŒ‡ä»¤
- **ğŸŒ æœç´¢æ¥åœ°**ï¼šæ”¯æŒç»“åˆå®æ—¶æœç´¢æ•°æ®è¿›è¡Œç¼–è¾‘
- **ğŸ¨ å¤šå›¾å‚è€ƒ**ï¼šæ”¯æŒæœ€å¤š 14 å¼ å‚è€ƒå›¾ç‰‡è¿›è¡Œå¤æ‚åˆæˆ
- **ğŸ“¦ Base64 è¾“å‡º**ï¼šç›´æ¥è¿”å› base64 ç¼–ç å›¾ç‰‡æ•°æ®

## ğŸ”€ ä¸¤ç§è°ƒç”¨æ–¹å¼

| ç‰¹æ€§ | OpenAI å…¼å®¹æ¨¡å¼ | Google åŸç”Ÿæ ¼å¼ |
|------|----------------|----------------|
| **ç«¯ç‚¹** | `/v1/chat/completions` | `/v1beta/models/gemini-3-pro-image-preview:generateContent` |
| **è¾“å‡ºå°ºå¯¸** | é»˜è®¤æ¯”ä¾‹ | æ”¯æŒ 10 ç§çºµæ¨ªæ¯” |
| **åˆ†è¾¨ç‡** | å›ºå®š 1K | æ”¯æŒ 1K/2K/4K |
| **å¤šå›¾æ”¯æŒ** | âœ… æ”¯æŒ | âœ… æ”¯æŒï¼ˆæœ€å¤š 14 å¼ ï¼‰ |
| **å…¼å®¹æ€§** | å®Œç¾å…¼å®¹ OpenAI SDK | éœ€è¦åŸç”Ÿè°ƒç”¨ |
| **è¿”å›æ ¼å¼** | Base64 | Base64 |
| **å›¾ç‰‡è¾“å…¥** | URL æˆ– Base64 | Base64ï¼ˆinline_dataï¼‰ |

<Tip>
ğŸ’¡ **å¦‚ä½•é€‰æ‹©ï¼Ÿ**
- å¦‚æœåªéœ€è¦é»˜è®¤æ¯”ä¾‹çš„å›¾ç‰‡ï¼Œä½¿ç”¨ **OpenAI å…¼å®¹æ¨¡å¼**ï¼Œç®€å•å¿«æ·
- å¦‚æœéœ€è¦è‡ªå®šä¹‰çºµæ¨ªæ¯”ï¼ˆå¦‚ 16:9ã€9:16ï¼‰æˆ–é«˜åˆ†è¾¨ç‡ï¼ˆ2K/4Kï¼‰ï¼Œä½¿ç”¨ **Google åŸç”Ÿæ ¼å¼**
</Tip>

## ğŸ“‹ æ¨¡å‹å¯¹æ¯”

### ä¸å…¶ä»–ç¼–è¾‘æ¨¡å‹å¯¹æ¯”

| æ¨¡å‹ | æ¨¡å‹ ID | è®¡è´¹æ–¹å¼ | è€å¼ ä»·æ ¼ | å®˜ç½‘ä»·æ ¼ | èŠ‚çœ | åˆ†è¾¨ç‡ | é€Ÿåº¦ |
|------|---------|---------|---------|---------|------|--------|------|
| **Nano Banana Pro** | `gemini-3-pro-image-preview` | æŒ‰æ¬¡ | \$0.05/æ¬¡ | \$0.24/æ¬¡ | 79% | 1K/2K/4K | ~10ç§’ |
| **Nano Banana** | `gemini-2.5-flash-image` | æŒ‰æ¬¡ | \$0.025/æ¬¡ | \$0.04/æ¬¡ | 37.5% | 1Kï¼ˆå›ºå®šï¼‰ | ~10ç§’ |
| **GPT-4o ç¼–è¾‘** | `gpt-4o` | Token | - | - | - | - | ~20ç§’ |
| **DALLÂ·E 2 ç¼–è¾‘** | `dall-e-2` | æŒ‰æ¬¡ | - | \$0.018/å¼  | - | å›ºå®š | è¾ƒæ…¢ |

### Pro vs Standard è¯¦ç»†å¯¹æ¯”

| ç‰¹æ€§ | Nano Banana Pro | Nano Banana |
|------|-----------------|-------------|
| **æ¨¡å‹** | `gemini-3-pro-image-preview` | `gemini-2.5-flash-image` |
| **æŠ€æœ¯åŸºç¡€** | Gemini 3 | Gemini 2.5 |
| **åˆ†è¾¨ç‡** | 1K/2K/4K | 1Kï¼ˆå›ºå®šï¼‰ |
| **ä»·æ ¼** | \$0.05/æ¬¡ | \$0.025/æ¬¡ |
| **æ€è€ƒæ¨¡å¼** | âœ… æœ‰ | âŒ æ—  |
| **æœç´¢æ¥åœ°** | âœ… æœ‰ | âŒ æ—  |
| **å¤šå›¾æ”¯æŒ** | æœ€å¤š 14 å¼  | æœ€å¤š 3 å¼  |
| **é€Ÿåº¦** | ~10ç§’ | ~10ç§’ |
| **æ¨èåœºæ™¯** | ä¸“ä¸šè®¾è®¡ã€å¤æ‚åˆæˆ | å¿«é€Ÿä¿®æ”¹ã€ç®€å•ç¼–è¾‘ |

<Tip>
ğŸ’° **ä»·æ ¼ä¼˜åŠ¿**
- **Nano Banana Pro**ï¼š\$0.05/æ¬¡ï¼ˆè€å¼ APIï¼‰vs \$0.24/æ¬¡ï¼ˆå®˜ç½‘ï¼‰ï¼Œä¾¿å®œ 79%
- **å……å€¼ç¦åˆ©**ï¼šå•æ¬¡å¤§é¢å……å€¼åŠ èµ  10%
- **æ±‡ç‡ä¼˜åŠ¿**ï¼šäººæ°‘å¸æ”¯ä»˜æ›´åˆ’ç®—

**Nano Banana Pro åœ¨è€å¼  API æ€§ä»·æ¯”è¶…é«˜ï¼**
</Tip>

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‡†å¤‡å·¥ä½œ

<Steps>
  <Step title="åˆ›å»ºä»¤ç‰Œ">
    ç™»å½• [è€å¼ APIä»¤ç‰Œç®¡ç†](https://api.laozhang.ai/token) åˆ›å»º**æŒ‰æ¬¡è®¡è´¹**ç±»å‹çš„ä»¤ç‰Œ

    ![ä»¤ç‰Œåˆ›å»ºç•Œé¢](/images/token-create-per-request.png)
  </Step>
  <Step title="é€‰æ‹©è®¡è´¹æ–¹å¼">
    **é‡è¦**ï¼šå¿…é¡»é€‰æ‹©"æŒ‰æ¬¡è®¡è´¹"ç±»å‹
  </Step>
  <Step title="ä¿å­˜ä»¤ç‰Œ">
    å¤åˆ¶ç”Ÿæˆçš„ä»¤ç‰Œï¼Œæ ¼å¼ä¸º `sk-xxxxxx`
  </Step>
</Steps>

## æ–¹å¼ä¸€ï¼šOpenAI å…¼å®¹æ¨¡å¼

### å•å›¾ç¼–è¾‘ - Curl

```bash
curl -X POST "https://api.laozhang.ai/v1/chat/completions" \
     -H "Authorization: Bearer sk-YOUR_API_KEY" \
     -H "Content-Type: application/json" \
     -d '{
    "model": "gemini-3-pro-image-preview",
    "stream": false,
    "messages": [
        {
            "role": "user",
            "content": [
                {
                    "type": "text",
                    "text": "Add a futuristic neon halo above the person head"
                },
                {
                    "type": "image_url",
                    "image_url": {
                        "url": "https://example.com/your-image.jpg"
                    }
                }
            ]
        }
    ]
}'
```

### å•å›¾ç¼–è¾‘ - Python SDK

```python
from openai import OpenAI
import base64
import re

client = OpenAI(
    api_key="sk-YOUR_API_KEY",
    base_url="https://api.laozhang.ai/v1"
)

response = client.chat.completions.create(
    model="gemini-3-pro-image-preview",
    messages=[
        {
            "role": "user",
            "content": [
                {
                    "type": "text",
                    "text": "Add a cute wizard hat on this cat's head"
                },
                {
                    "type": "image_url",
                    "image_url": {
                        "url": "https://example.com/your-image.jpg"
                    }
                }
            ]
        }
    ]
)

# æå–å¹¶ä¿å­˜å›¾ç‰‡
content = response.choices[0].message.content
match = re.search(r'!\[.*?\]\((data:image/png;base64,.*?)\)', content)

if match:
    base64_data = match.group(1).split(',')[1]
    image_data = base64.b64decode(base64_data)

    with open('edited.png', 'wb') as f:
        f.write(image_data)
    print("âœ… ç¼–è¾‘åçš„å›¾ç‰‡å·²ä¿å­˜: edited.png")
```

### å¤šå›¾åˆæˆ - Python SDK

```python
from openai import OpenAI
import base64
import re

client = OpenAI(
    api_key="sk-YOUR_API_KEY",
    base_url="https://api.laozhang.ai/v1"
)

response = client.chat.completions.create(
    model="gemini-3-pro-image-preview",
    messages=[
        {
            "role": "user",
            "content": [
                {
                    "type": "text",
                    "text": "Combine the style of image A with the content of image B"
                },
                {
                    "type": "image_url",
                    "image_url": {"url": "https://example.com/style.jpg"}
                },
                {
                    "type": "image_url",
                    "image_url": {"url": "https://example.com/content.jpg"}
                }
            ]
        }
    ]
)

# æå–å¹¶ä¿å­˜å›¾ç‰‡
content = response.choices[0].message.content
match = re.search(r'!\[.*?\]\((data:image/png;base64,.*?)\)', content)

if match:
    base64_data = match.group(1).split(',')[1]
    image_data = base64.b64decode(base64_data)

    with open('merged.png', 'wb') as f:
        f.write(image_data)
    print("âœ… åˆæˆå›¾ç‰‡å·²ä¿å­˜: merged.png")
```

## æ–¹å¼äºŒï¼šGoogle åŸç”Ÿæ ¼å¼ï¼ˆæ”¯æŒè‡ªå®šä¹‰çºµæ¨ªæ¯” + 4Kï¼‰

### æ”¯æŒçš„åˆ†è¾¨ç‡

| çºµæ¨ªæ¯” | 1K åˆ†è¾¨ç‡ | 2K åˆ†è¾¨ç‡ | 4K åˆ†è¾¨ç‡ |
|--------|-----------|-----------|-----------|
| **1:1** | 1024Ã—1024 | 2048Ã—2048 | 4096Ã—4096 |
| **16:9** | 1376Ã—768 | 2752Ã—1536 | 5504Ã—3072 |
| **9:16** | 768Ã—1376 | 1536Ã—2752 | 3072Ã—5504 |
| **4:3** | 1200Ã—896 | 2400Ã—1792 | 4800Ã—3584 |
| **3:4** | 896Ã—1200 | 1792Ã—2400 | 3584Ã—4800 |

<Tip>
ğŸ’¡ **åˆ†è¾¨ç‡è®¾ç½®æ–¹æ³•**
åœ¨ `generationConfig.imageConfig.imageSize` ä¸­ä¼ å…¥ `"2K"` æˆ– `"4K"`ã€‚ä¸ä¼ åˆ™é»˜è®¤ä¸º `"1K"`ã€‚
</Tip>

### 4K é«˜æ¸…ç¼–è¾‘ - Curl

```bash
curl -X POST "https://api.laozhang.ai/v1beta/models/gemini-3-pro-image-preview:generateContent" \
  -H "Authorization: Bearer sk-YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "contents": [{
      "parts": [
        {"text": "Transform this image into a cyberpunk style with neon lights"},
        {"inline_data": {"mime_type": "image/jpeg", "data": "BASE64_IMAGE_DATA_HERE"}}
      ]
    }],
    "generationConfig": {
      "responseModalities": ["IMAGE"],
      "imageConfig": {
        "aspectRatio": "16:9",
        "imageSize": "4K"
      }
    }
  }'
```

### Python ä»£ç ç¤ºä¾‹

<Note>
ğŸ’¡ **ä¸‰ä¸ªç¤ºä¾‹é€’è¿›å…³ç³»**
ç¤ºä¾‹1ç¼–è¾‘å›¾ç‰‡ â†’ ç¤ºä¾‹2ç”¨å®ƒå˜æ¢é£æ ¼ â†’ ç¤ºä¾‹3èåˆå‰ä¸¤å¼ å›¾ã€‚é€»è¾‘æ¸…æ™°ï¼
</Note>

<Accordion title="ç¤ºä¾‹ 1ï¼šå•å›¾ç¼–è¾‘ â†’ æ·»åŠ å…ƒç´ ç”Ÿæˆç¬¬ä¸€å¼ å›¾">

```python
import requests
import base64

# ========== é…ç½® ==========
API_KEY = "sk-YOUR_API_KEY"
API_URL = "https://api.laozhang.ai/v1beta/models/gemini-3-pro-image-preview:generateContent"
INPUT_IMAGE = "cat.jpg"
PROMPT = "Add a cute wizard hat on this cat's head"
ASPECT_RATIO = "1:1"
IMAGE_SIZE = "2K"  # 1K, 2K, 4K
# ============================

# è¯»å–å¹¶ç¼–ç å›¾ç‰‡
with open(INPUT_IMAGE, "rb") as f:
    image_b64 = base64.b64encode(f.read()).decode("utf-8")

headers = {"Authorization": f"Bearer {API_KEY}", "Content-Type": "application/json"}

payload = {
    "contents": [{
        "parts": [
            {"text": PROMPT},
            {"inline_data": {"mime_type": "image/jpeg", "data": image_b64}}
        ]
    }],
    "generationConfig": {
        "responseModalities": ["IMAGE"],
        "imageConfig": {
            "aspectRatio": ASPECT_RATIO,
            "imageSize": IMAGE_SIZE
        }
    }
}

response = requests.post(API_URL, headers=headers, json=payload, timeout=180)
result = response.json()

# ä¿å­˜å›¾ç‰‡
output_data = result["candidates"][0]["content"]["parts"][0]["inlineData"]["data"]
with open("output.png", "wb") as f:
    f.write(base64.b64decode(output_data))

print("âœ… å›¾ç‰‡å·²ä¿å­˜: output.png")
```

</Accordion>

<Accordion title="ç¤ºä¾‹ 2ï¼šé£æ ¼è½¬æ¢ â†’ ç”¨ç¬¬ä¸€å¼ å›¾ç”Ÿæˆç¬¬äºŒå¼ å›¾">

```python
import requests
import base64

# ========== é…ç½® ==========
API_KEY = "sk-YOUR_API_KEY"
API_URL = "https://api.laozhang.ai/v1beta/models/gemini-3-pro-image-preview:generateContent"

INPUT_IMAGE = "output.png"  # ä½¿ç”¨ç¤ºä¾‹1ç”Ÿæˆçš„å›¾ç‰‡
PROMPT = "Transform this cat into Van Gogh Starry Night style oil painting"
ASPECT_RATIO = "1:1"
IMAGE_SIZE = "2K"
# ============================

# è¯»å–å¹¶ç¼–ç å›¾ç‰‡
with open(INPUT_IMAGE, "rb") as f:
    image_b64 = base64.b64encode(f.read()).decode("utf-8")

headers = {"Authorization": f"Bearer {API_KEY}", "Content-Type": "application/json"}

payload = {
    "contents": [{
        "parts": [
            {"text": PROMPT},
            {"inline_data": {"mime_type": "image/png", "data": image_b64}}
        ]
    }],
    "generationConfig": {
        "responseModalities": ["IMAGE"],
        "imageConfig": {
            "aspectRatio": ASPECT_RATIO,
            "imageSize": IMAGE_SIZE
        }
    }
}

response = requests.post(API_URL, headers=headers, json=payload, timeout=180)
result = response.json()

# ä¿å­˜å›¾ç‰‡
output_data = result["candidates"][0]["content"]["parts"][0]["inlineData"]["data"]
with open("output_styled.png", "wb") as f:
    f.write(base64.b64decode(output_data))

print("âœ… å›¾ç‰‡å·²ä¿å­˜: output_styled.png")
```

</Accordion>

<Accordion title="ç¤ºä¾‹ 3ï¼šå¤šå›¾èåˆ â†’ ç”¨ç¬¬ä¸€å¼ å’Œç¬¬äºŒå¼ ç”Ÿæˆç¬¬ä¸‰å¼ å›¾">

```python
import requests
import base64

# ========== é…ç½® ==========
API_KEY = "sk-YOUR_API_KEY"
API_URL = "https://api.laozhang.ai/v1beta/models/gemini-3-pro-image-preview:generateContent"

# ä½¿ç”¨å‰é¢ç”Ÿæˆçš„ä¸¤å¼ å›¾ï¼ˆç¤ºä¾‹1å’Œç¤ºä¾‹2çš„è¾“å‡ºï¼‰
IMAGES = ["output.png", "output_styled.png"]
PROMPT = "Combine these two cat images into a single artistic composition"
ASPECT_RATIO = "16:9"
IMAGE_SIZE = "2K"
# ============================

# æ„å»º parts: æ–‡æœ¬ + å¤šå¼ å›¾ç‰‡
parts = [{"text": PROMPT}]

for img_path in IMAGES:
    with open(img_path, "rb") as f:
        img_b64 = base64.b64encode(f.read()).decode("utf-8")
    parts.append({"inline_data": {"mime_type": "image/png", "data": img_b64}})

headers = {"Authorization": f"Bearer {API_KEY}", "Content-Type": "application/json"}

payload = {
    "contents": [{"parts": parts}],
    "generationConfig": {
        "responseModalities": ["IMAGE"],
        "imageConfig": {
            "aspectRatio": ASPECT_RATIO,
            "imageSize": IMAGE_SIZE
        }
    }
}

response = requests.post(API_URL, headers=headers, json=payload, timeout=180)
result = response.json()

# ä¿å­˜å›¾ç‰‡
output_data = result["candidates"][0]["content"]["parts"][0]["inlineData"]["data"]
with open("output_mixed.png", "wb") as f:
    f.write(base64.b64decode(output_data))

print("âœ… å›¾ç‰‡å·²ä¿å­˜: output_mixed.png")
```

</Accordion>

<Accordion title="å®Œæ•´ Python å·¥å…·è„šæœ¬">

```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-

"""
Nano Banana Pro å›¾ç‰‡ç¼–è¾‘å·¥å…· - Pythonç‰ˆæœ¬
ä¸Šä¼ æœ¬åœ°å›¾ç‰‡ + æ–‡å­—æè¿°ï¼Œç”Ÿæˆæ–°å›¾ç‰‡ï¼Œæ”¯æŒè‡ªå®šä¹‰çºµæ¨ªæ¯”å’Œåˆ†è¾¨ç‡
"""

import requests
import base64
import os
import datetime
import mimetypes
from typing import Optional, Tuple, List

class NanaBananaProEditor:
    """Nano Banana Pro å›¾ç‰‡ç¼–è¾‘å™¨"""

    SUPPORTED_ASPECT_RATIOS = [
        "21:9", "16:9", "4:3", "3:2", "1:1",
        "9:16", "3:4", "2:3", "5:4", "4:5"
    ]

    SUPPORTED_SIZES = ["1K", "2K", "4K"]

    def __init__(self, api_key: str):
        self.api_key = api_key
        self.api_url = "https://api.laozhang.ai/v1beta/models/gemini-3-pro-image-preview:generateContent"
        self.headers = {
            "Content-Type": "application/json",
            "Authorization": f"Bearer {api_key}"
        }

    def edit_image(self, image_path: str, prompt: str,
                   aspect_ratio: str = "1:1",
                   image_size: str = "2K",
                   output_dir: str = ".") -> Tuple[bool, str]:
        """
        ç¼–è¾‘å•å¼ å›¾ç‰‡

        å‚æ•°:
            image_path: è¾“å…¥å›¾ç‰‡è·¯å¾„
            prompt: ç¼–è¾‘æè¿°
            aspect_ratio: çºµæ¨ªæ¯”
            image_size: åˆ†è¾¨ç‡ (1K, 2K, 4K)
            output_dir: ä¿å­˜ç›®å½•

        è¿”å›:
            (æ˜¯å¦æˆåŠŸ, ç»“æœæ¶ˆæ¯)
        """
        print(f"ğŸš€ å¼€å§‹ç¼–è¾‘å›¾ç‰‡...")
        print(f"ğŸ“ è¾“å…¥å›¾ç‰‡: {image_path}")
        print(f"ğŸ“ ç¼–è¾‘æè¿°: {prompt}")
        print(f"ğŸ“ çºµæ¨ªæ¯”: {aspect_ratio}")
        print(f"ğŸ–¼ï¸  åˆ†è¾¨ç‡: {image_size}")

        if not os.path.exists(image_path):
            return False, f"å›¾ç‰‡æ–‡ä»¶ä¸å­˜åœ¨: {image_path}"

        if aspect_ratio not in self.SUPPORTED_ASPECT_RATIOS:
            return False, f"ä¸æ”¯æŒçš„çºµæ¨ªæ¯” {aspect_ratio}"

        if image_size not in self.SUPPORTED_SIZES:
            return False, f"ä¸æ”¯æŒçš„åˆ†è¾¨ç‡ {image_size}"

        # è¯»å–å¹¶ç¼–ç å›¾ç‰‡
        try:
            with open(image_path, 'rb') as f:
                image_data = f.read()
            image_base64 = base64.b64encode(image_data).decode('utf-8')

            mime_type, _ = mimetypes.guess_type(image_path)
            if not mime_type or not mime_type.startswith('image/'):
                mime_type = 'image/jpeg'
        except Exception as e:
            return False, f"è¯»å–å›¾ç‰‡å¤±è´¥: {str(e)}"

        # ç”Ÿæˆè¾“å‡ºæ–‡ä»¶å
        timestamp = datetime.datetime.now().strftime("%Y%m%d_%H%M%S")
        output_file = os.path.join(output_dir, f"edited_{timestamp}.png")

        try:
            payload = {
                "contents": [{
                    "parts": [
                        {"text": prompt},
                        {"inline_data": {"mime_type": mime_type, "data": image_base64}}
                    ]
                }],
                "generationConfig": {
                    "responseModalities": ["IMAGE"],
                    "imageConfig": {
                        "aspectRatio": aspect_ratio,
                        "imageSize": image_size
                    }
                }
            }

            print("ğŸ“¡ å‘é€è¯·æ±‚åˆ° API...")
            response = requests.post(self.api_url, headers=self.headers, json=payload, timeout=180)

            if response.status_code != 200:
                return False, f"API è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç : {response.status_code}"

            result = response.json()
            output_image_data = result["candidates"][0]["content"]["parts"][0]["inlineData"]["data"]

            print("ğŸ’¾ æ­£åœ¨ä¿å­˜å›¾ç‰‡...")
            decoded_data = base64.b64decode(output_image_data)

            with open(output_file, 'wb') as f:
                f.write(decoded_data)

            file_size = len(decoded_data) / 1024
            print(f"âœ… å›¾ç‰‡å·²ä¿å­˜: {output_file}")
            print(f"ğŸ“Š æ–‡ä»¶å¤§å°: {file_size:.2f} KB")

            return True, f"æˆåŠŸä¿å­˜å›¾ç‰‡: {output_file}"

        except Exception as e:
            return False, f"é”™è¯¯: {str(e)}"

    def merge_images(self, image_paths: List[str], prompt: str,
                     aspect_ratio: str = "16:9",
                     image_size: str = "2K",
                     output_dir: str = ".") -> Tuple[bool, str]:
        """
        åˆå¹¶å¤šå¼ å›¾ç‰‡

        å‚æ•°:
            image_paths: è¾“å…¥å›¾ç‰‡è·¯å¾„åˆ—è¡¨
            prompt: åˆå¹¶æè¿°
            aspect_ratio: çºµæ¨ªæ¯”
            image_size: åˆ†è¾¨ç‡
            output_dir: ä¿å­˜ç›®å½•

        è¿”å›:
            (æ˜¯å¦æˆåŠŸ, ç»“æœæ¶ˆæ¯)
        """
        print(f"ğŸš€ å¼€å§‹åˆå¹¶ {len(image_paths)} å¼ å›¾ç‰‡...")

        parts = [{"text": prompt}]

        for img_path in image_paths:
            if not os.path.exists(img_path):
                return False, f"å›¾ç‰‡æ–‡ä»¶ä¸å­˜åœ¨: {img_path}"

            with open(img_path, 'rb') as f:
                img_data = f.read()
            img_b64 = base64.b64encode(img_data).decode('utf-8')

            mime_type, _ = mimetypes.guess_type(img_path)
            if not mime_type:
                mime_type = 'image/jpeg'

            parts.append({"inline_data": {"mime_type": mime_type, "data": img_b64}})

        timestamp = datetime.datetime.now().strftime("%Y%m%d_%H%M%S")
        output_file = os.path.join(output_dir, f"merged_{timestamp}.png")

        try:
            payload = {
                "contents": [{"parts": parts}],
                "generationConfig": {
                    "responseModalities": ["IMAGE"],
                    "imageConfig": {
                        "aspectRatio": aspect_ratio,
                        "imageSize": image_size
                    }
                }
            }

            print("ğŸ“¡ å‘é€è¯·æ±‚åˆ° API...")
            response = requests.post(self.api_url, headers=self.headers, json=payload, timeout=180)

            if response.status_code != 200:
                return False, f"API è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç : {response.status_code}"

            result = response.json()
            output_image_data = result["candidates"][0]["content"]["parts"][0]["inlineData"]["data"]

            print("ğŸ’¾ æ­£åœ¨ä¿å­˜å›¾ç‰‡...")
            decoded_data = base64.b64decode(output_image_data)

            with open(output_file, 'wb') as f:
                f.write(decoded_data)

            print(f"âœ… å›¾ç‰‡å·²ä¿å­˜: {output_file}")
            return True, f"æˆåŠŸä¿å­˜å›¾ç‰‡: {output_file}"

        except Exception as e:
            return False, f"é”™è¯¯: {str(e)}"


def main():
    """ä¸»å‡½æ•° - ä½¿ç”¨ç¤ºä¾‹"""

    API_KEY = "sk-YOUR_API_KEY"

    editor = NanaBananaProEditor(API_KEY)

    # ç¤ºä¾‹1: å•å›¾ç¼–è¾‘
    success, message = editor.edit_image(
        image_path="./input.jpg",
        prompt="Add a rainbow in the sky",
        aspect_ratio="16:9",
        image_size="2K"
    )
    print(message)

    # ç¤ºä¾‹2: å¤šå›¾åˆå¹¶
    success, message = editor.merge_images(
        image_paths=["./cat.jpg", "./dog.jpg"],
        prompt="Combine these two pets into one happy family portrait",
        aspect_ratio="1:1",
        image_size="2K"
    )
    print(message)


if __name__ == "__main__":
    main()
```

</Accordion>

## ğŸ¯ ç¼–è¾‘åœºæ™¯ç¤ºä¾‹

### 1. å•å›¾ç¼–è¾‘ - æ·»åŠ å…ƒç´ 

```python
def add_element_to_image(image_url, element_description):
    """å‘å›¾ç‰‡æ·»åŠ æ–°å…ƒç´ """
    headers = {
        "Authorization": f"Bearer {API_KEY}",
        "Content-Type": "application/json"
    }

    data = {
        "model": "gemini-3-pro-image-preview",
        "stream": False,
        "messages": [{
            "role": "user",
            "content": [
                {"type": "text", "text": f"Add {element_description} to this image"},
                {"type": "image_url", "image_url": {"url": image_url}}
            ]
        }]
    }

    response = requests.post(API_URL, headers=headers, json=data)
    return extract_base64_from_response(response.json())

# ä½¿ç”¨ç¤ºä¾‹
result = add_element_to_image(
    "https://example.com/landscape.jpg",
    "a rainbow in the sky"
)
```

### 2. é£æ ¼è½¬æ¢

```python
def style_transfer(image_url, style_description):
    """å›¾ç‰‡é£æ ¼è½¬æ¢"""
    headers = {
        "Authorization": f"Bearer {API_KEY}",
        "Content-Type": "application/json"
    }

    data = {
        "model": "gemini-3-pro-image-preview",
        "stream": False,
        "messages": [{
            "role": "user",
            "content": [
                {"type": "text", "text": f"Transform this image into {style_description} style"},
                {"type": "image_url", "image_url": {"url": image_url}}
            ]
        }]
    }

    response = requests.post(API_URL, headers=headers, json=data)
    return extract_base64_from_response(response.json())

# ä½¿ç”¨ç¤ºä¾‹
result = style_transfer(
    "https://example.com/photo.jpg",
    "Van Gogh oil painting"
)
```

### 3. å¤šå›¾åˆæˆ

```python
def creative_merge(image_urls, merge_instruction):
    """åˆ›æ„åˆå¹¶å¤šå¼ å›¾ç‰‡"""
    content = [{"type": "text", "text": merge_instruction}]

    for url in image_urls:
        content.append({
            "type": "image_url",
            "image_url": {"url": url}
        })

    headers = {
        "Authorization": f"Bearer {API_KEY}",
        "Content-Type": "application/json"
    }

    data = {
        "model": "gemini-3-pro-image-preview",
        "stream": False,
        "messages": [{"role": "user", "content": content}]
    }

    response = requests.post(API_URL, headers=headers, json=data)
    return extract_base64_from_response(response.json())

# ä½¿ç”¨ç¤ºä¾‹
images = ["https://example.com/cat.jpg", "https://example.com/background.jpg"]
result = creative_merge(images, "å°†çŒ«å’ªè‡ªç„¶åœ°èå…¥åˆ°èƒŒæ™¯ä¸­")
```

## ğŸ’¡ æœ€ä½³å®è·µ

### ç¼–è¾‘æŒ‡ä»¤ä¼˜åŒ–

```python
# âŒ æ¨¡ç³ŠæŒ‡ä»¤
instruction = "edit the image"

# âœ… æ¸…æ™°å…·ä½“çš„æŒ‡ä»¤
instruction = """
1. åœ¨å›¾ç‰‡å³ä¸Šè§’æ·»åŠ ä¸€è½®æ˜æœˆ
2. è°ƒæ•´æ•´ä½“è‰²è°ƒä¸ºæš–è‰²ç³»
3. å¢åŠ ä¸€äº›è¤ç«è™«çš„å…‰ç‚¹æ•ˆæœ
4. ä¿æŒåŸå›¾çš„ä¸»ä½“ä¸å˜
"""
```

### å¤šå›¾å¤„ç†ç­–ç•¥

```python
def smart_multi_image_edit(images, instruction):
    """æ™ºèƒ½å¤šå›¾ç¼–è¾‘"""

    if len(images) == 1:
        prompt = f"Edit this image: {instruction}"
    elif len(images) == 2:
        prompt = f"Combine these two images creatively: {instruction}"
    else:
        prompt = f"Process these {len(images)} images together: {instruction}"

    # æ„å»º content...
    return send_edit_request(content)
```

## â“ å¸¸è§é—®é¢˜

<AccordionGroup>
  <Accordion title="Pro ç‰ˆå’Œ Standard ç‰ˆæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ">
    | ç‰¹æ€§ | Nano Banana Pro | Nano Banana |
    |------|-----------------|-------------|
    | **åˆ†è¾¨ç‡** | 1K/2K/4K | 1Kï¼ˆå›ºå®šï¼‰ |
    | **æ€è€ƒæ¨¡å¼** | âœ… æœ‰ | âŒ æ—  |
    | **æœç´¢æ¥åœ°** | âœ… æœ‰ | âŒ æ—  |
    | **å¤šå›¾æ”¯æŒ** | æœ€å¤š 14 å¼  | æœ€å¤š 3 å¼  |
    | **ä»·æ ¼** | \$0.05/æ¬¡ | \$0.025/æ¬¡ |
    | **æ¨èåœºæ™¯** | ä¸“ä¸šè®¾è®¡ã€å¤æ‚åˆæˆ | å¿«é€Ÿä¿®æ”¹ã€ç®€å•ç¼–è¾‘ |
  </Accordion>

  <Accordion title="å¦‚ä½•ä½¿ç”¨ 4K åˆ†è¾¨ç‡ï¼Ÿ">
    **4K ä»… Nano Banana Pro æ”¯æŒ**ï¼Œä½¿ç”¨ Google åŸç”Ÿæ ¼å¼å¹¶æ·»åŠ  `imageSize` å‚æ•°ï¼š

    ```json
    {
      "generationConfig": {
        "responseModalities": ["IMAGE"],
        "imageConfig": {
          "aspectRatio": "16:9",
          "imageSize": "4K"
        }
      }
    }
    ```

    **é‡è¦**ï¼šå¿…é¡»ä½¿ç”¨å¤§å†™ "K"ï¼ˆ1Kã€2Kã€4Kï¼‰ã€‚
  </Accordion>

  <Accordion title="æ”¯æŒå“ªäº›å›¾ç‰‡æ ¼å¼ï¼Ÿ">
    æ”¯æŒå¸¸è§çš„å›¾ç‰‡æ ¼å¼ï¼š
    - JPG/JPEG
    - PNG
    - WebP
    - GIFï¼ˆé™æ€ï¼‰

    å»ºè®®ä½¿ç”¨ JPG æˆ– PNG æ ¼å¼ä»¥è·å¾—æœ€ä½³æ•ˆæœã€‚
  </Accordion>

  <Accordion title="å›¾ç‰‡å¤§å°æœ‰é™åˆ¶å—ï¼Ÿ">
    - **æ¨èå¤§å°**ï¼šå•å¼ å›¾ç‰‡ â‰¤ 5MB
    - **æœ€å¤§å¤§å°**ï¼šâ‰¤ 10MB
    - è¿‡å¤§çš„å›¾ç‰‡ä¼šå¢åŠ å¤„ç†æ—¶é—´ï¼Œå»ºè®®å‹ç¼©åä¸Šä¼ 
  </Accordion>

  <Accordion title="å¯ä»¥åŒæ—¶å¤„ç†å¤šå°‘å¼ å›¾ç‰‡ï¼Ÿ">
    - **Nano Banana Pro**ï¼šæ”¯æŒæœ€å¤š 14 å¼ å›¾ç‰‡
    - **Nano Banana**ï¼šæ”¯æŒæœ€å¤š 3 å¼ å›¾ç‰‡
    - å›¾ç‰‡è¿‡å¤šä¼šå½±å“ç”Ÿæˆè´¨é‡å’Œå¤„ç†æ—¶é—´ï¼Œå»ºè®® â‰¤ 4 å¼ 
  </Accordion>

  <Accordion title="ä¸ºä»€ä¹ˆ Pro ç‰ˆåœ¨è€å¼  API è¿™ä¹ˆä¾¿å®œï¼Ÿ">
    | æ¨¡å‹ | è€å¼  API | å®˜ç½‘ | èŠ‚çœ |
    |------|---------|------|------|
    | **Nano Banana Pro** | \$0.05/æ¬¡ | \$0.24/æ¬¡ | **79%** |
    | **Nano Banana** | \$0.025/æ¬¡ | \$0.04/æ¬¡ | 37.5% |

    **Nano Banana Pro åœ¨è€å¼  API æ€§ä»·æ¯”è¶…é«˜ï¼**
  </Accordion>

  <Accordion title="æ”¯æŒä¸­æ–‡ç¼–è¾‘æŒ‡ä»¤å—ï¼Ÿ">
    **å®Œç¾æ”¯æŒï¼** Gemini 3 Pro æ‹¥æœ‰é¡¶çº§çš„å¤šè¯­è¨€ç†è§£èƒ½åŠ›ï¼Œæ‚¨å¯ä»¥ç›´æ¥ä½¿ç”¨ä¸­æ–‡æè¿°ç¼–è¾‘éœ€æ±‚ã€‚
  </Accordion>

  <Accordion title="å¦‚ä½•è·å–æ›´å¥½çš„ç¼–è¾‘æ•ˆæœï¼Ÿ">
    1. **è¯¦ç»†æè¿°**ï¼šæä¾›å…·ä½“çš„ç¼–è¾‘ç»†èŠ‚
    2. **åˆ†æ­¥éª¤**ï¼šå¤æ‚ç¼–è¾‘åˆ†å¤šä¸ªæ­¥éª¤æè¿°
    3. **å‚è€ƒé£æ ¼**ï¼šæŒ‡å®šè‰ºæœ¯é£æ ¼
    4. **ä¿æŒä¸»ä½“**ï¼šæ˜ç¡®è¯´æ˜éœ€è¦ä¿ç•™çš„å†…å®¹
  </Accordion>
</AccordionGroup>

## ğŸ¯ å¸¸è§ç”¨ä¾‹

1. **ç”µå•†æ¢æ¨¡ç‰¹**: ä¸Šä¼ è¡£æœå›¾å’Œæ¨¡ç‰¹å›¾ï¼Œç”Ÿæˆç©¿æ­æ•ˆæœ
2. **è£…ä¿®è®¾è®¡**: ä¸Šä¼ æ¯›å¯æˆ¿ç…§ç‰‡ï¼Œé€šè¿‡ Prompt ç”Ÿæˆè£…ä¿®åæ•ˆæœ
3. **æ¸¸æˆç´ æ**: å¿«é€Ÿä¿®æ”¹æ¸¸æˆå›¾æ ‡æˆ–è§’è‰²å¤–è§‚
4. **ç¤¾äº¤åª’ä½“**: å°†äººåƒç…§ç‰‡è½¬æ¢ä¸ºå„ç§è‰ºæœ¯é£æ ¼
5. **äº§å“å±•ç¤º**: å°†äº§å“æ”¾å…¥ä¸åŒåœºæ™¯èƒŒæ™¯ä¸­
6. **åˆ›æ„æµ·æŠ¥**: èåˆå¤šå¼ ç´ æç”Ÿæˆæµ·æŠ¥è®¾è®¡

## ğŸ”— ç›¸å…³èµ„æº

<CardGroup cols={2}>
  <Card title="Pro å›¾åƒç”Ÿæˆ" icon="sparkles" href="/api-capabilities/nano-banana-pro-image">
    å­¦ä¹ å¦‚ä½•ä½¿ç”¨ Nano Banana Pro ä»æ–‡å­—ç”Ÿæˆå›¾ç‰‡
  </Card>
  <Card title="Standard å›¾åƒç¼–è¾‘" icon="paintbrush" href="/api-capabilities/nano-banana-image-edit">
    æ›´å®æƒ çš„ Nano Banana Standard ç¼–è¾‘ç‰ˆæœ¬
  </Card>
  <Card title="ä»¤ç‰Œç®¡ç†" icon="key" href="https://api.laozhang.ai/token">
    åˆ›å»ºå’Œç®¡ç†ä½ çš„ API ä»¤ç‰Œ
  </Card>
  <Card title="ä»·æ ¼è¯´æ˜" icon="dollar-sign" href="/pricing">
    æŸ¥çœ‹è¯¦ç»†çš„ä»·æ ¼è¡¨å’Œè®¡è´¹è¯´æ˜
  </Card>
</CardGroup>

---

## ğŸ“ æ›´æ–°æ—¥å¿—

<AccordionGroup>
  <Accordion title="2025-01ï¼šNano Banana Pro ç¼–è¾‘ç‹¬ç«‹æ–‡æ¡£ä¸Šçº¿">
    **ğŸš€ Nano Banana Pro ç¼–è¾‘ä¸“å±é¡µé¢**
    - ä»æ··åˆæ–‡æ¡£æ‹†åˆ†ä¸ºç‹¬ç«‹çš„ Pro ç‰ˆæœ¬æ–‡æ¡£
    - å®Œæ•´çš„ 4K åˆ†è¾¨ç‡ç¼–è¾‘æŒ‡å—
    - è¯¦ç»†çš„å¤šå›¾åˆæˆè¯´æ˜
    - å®Œæ•´çš„ä»£ç ç¤ºä¾‹å’Œæœ€ä½³å®è·µ
    - ä¸ Nano Banana Standard çš„å¯¹æ¯”è¯´æ˜
  </Accordion>
</AccordionGroup>
