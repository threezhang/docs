---
title: Nano Banana å›¾åƒç¼–è¾‘
sidebarTitle: Nano Banana ç¼–è¾‘
description: ä½¿ç”¨ Google æœ€æ–°å›¾åƒç¼–è¾‘æŠ€æœ¯ï¼Œæ”¯æŒå•å›¾å’Œå¤šå›¾æ™ºèƒ½ç¼–è¾‘ï¼ŒæŒ‰æ¬¡è®¡è´¹ä»…éœ€ $0.025/æ¬¡
icon: "paintbrush"
---

## æ¨¡å‹ç®€ä»‹

Nano Banana å›¾åƒç¼–è¾‘åŠŸèƒ½åŸºäº Google `gemini-2.5-flash-image-preview` æ¨¡å‹ï¼Œé€šè¿‡å¯¹è¯è¡¥å…¨æ¥å£å®ç°å¯¹ç°æœ‰å›¾ç‰‡çš„æ™ºèƒ½ç¼–è¾‘å’Œæ”¹é€ ã€‚æ”¯æŒå•å¼ æˆ–å¤šå¼ å›¾ç‰‡çš„è¾“å…¥ï¼Œå¯ä»¥å®ç°å›¾åƒåˆæˆã€å…ƒç´ æ·»åŠ ã€é£æ ¼è½¬æ¢ç­‰é«˜çº§ç¼–è¾‘åŠŸèƒ½ã€‚

<Note>
**ğŸ¨ æ™ºèƒ½å›¾åƒç¼–è¾‘**  
ä¸Šä¼ å›¾ç‰‡ + æ–‡å­—æè¿° = ç²¾å‡†ç¼–è¾‘ï¼æ”¯æŒå¤šå›¾åˆæˆã€å…ƒç´ ä¿®æ”¹ã€é£æ ¼è½¬æ¢ç­‰é«˜çº§åŠŸèƒ½ã€‚
</Note>

## ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

- **ğŸ”„ çµæ´»ç¼–è¾‘**ï¼šæ”¯æŒå…ƒç´ æ·»åŠ /åˆ é™¤ã€é£æ ¼è½¬æ¢ã€å›¾åƒåˆæˆç­‰
- **ğŸ­ å¤šå›¾å¤„ç†**ï¼šå¯åŒæ—¶å¤„ç†å¤šå¼ å›¾ç‰‡ï¼Œå®ç°èåˆã€æ‹¼æ¥ç­‰æ•ˆæœ
- **ğŸ’° è¶…å€¼ä»·æ ¼**ï¼š$0.025/æ¬¡ï¼ŒæŒ‰æ¬¡è®¡è´¹ï¼Œä»·æ ¼é€æ˜
- **ğŸš€ å¿«é€Ÿå¤„ç†**ï¼šå¹³å‡ 10 ç§’å®Œæˆç¼–è¾‘
- **ğŸ“¦ Base64 è¾“å‡º**ï¼šç›´æ¥è¿”å›ç¼–è¾‘åçš„ base64 å›¾ç‰‡æ•°æ®

## ğŸ“‹ åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | Nano Banana ç¼–è¾‘ | GPT-4o ç¼–è¾‘ | DALLÂ·E 2 ç¼–è¾‘ | Flux ç¼–è¾‘ |
|------|-----------------|-------------|---------------|-----------|
| ä»·æ ¼ | $0.025/æ¬¡ | Tokenè®¡è´¹ | $0.018/å¼  | $0.035/æ¬¡ |
| å¤šå›¾è¾“å…¥ | âœ… æ”¯æŒ | âœ… æ”¯æŒ | âŒ ä¸æ”¯æŒ | âŒ åŸç”Ÿä¸æ”¯æŒ |
| å“åº”é€Ÿåº¦ | ~10ç§’ | ~20ç§’ | è¾ƒæ…¢ | ä¸­ç­‰ |
| è¿”å›æ ¼å¼ | Base64 | Base64 | URL | URL |
| ä¸­æ–‡æ”¯æŒ | âœ… å®Œç¾ | âœ… å®Œç¾ | âŒ éœ€ç¿»è¯‘ | âŒ éœ€ç¿»è¯‘ |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‡†å¤‡å·¥ä½œ

<Steps>
  <Step title="åˆ›å»ºä»¤ç‰Œ">
    ç™»å½• [è€å¼ APIä»¤ç‰Œç®¡ç†](https://api.laozhang.ai/token) åˆ›å»º**æŒ‰æ¬¡è®¡è´¹**ç±»å‹çš„ä»¤ç‰Œ
    
    ![ä»¤ç‰Œåˆ›å»ºç•Œé¢](/images/laozhang-token-dashboard.png)
  </Step>
  <Step title="é€‰æ‹©è®¡è´¹æ–¹å¼">
    **é‡è¦**ï¼šå¿…é¡»é€‰æ‹©"æŒ‰æ¬¡è®¡è´¹"ç±»å‹ï¼Œä¸è¦é€‰æ‹©"æŒ‰é‡è®¡è´¹"
  </Step>
  <Step title="ä¿å­˜ä»¤ç‰Œ">
    å¤åˆ¶ç”Ÿæˆçš„ä»¤ç‰Œï¼Œæ ¼å¼ä¸º `sk-xxxxxx`ï¼Œåœ¨ä»£ç ä¸­æ›¿æ¢ `YOUR_API_KEY`
  </Step>
</Steps>

<Tip>
ğŸ’° **è¶…å€¼ä»·æ ¼ä¼˜åŠ¿**  
- **è€å¼ API**ï¼š$0.025/æ¬¡ï¼ˆæ¯”å®˜ç½‘ä¾¿å®œ 37.5%ï¼‰
- **å®˜ç½‘ä»·æ ¼**ï¼š$0.04/æ¬¡  
- **å……å€¼ç¦åˆ©**ï¼šå……å€¼ 100 ç¾é‡‘ +10% èµ é€
- **æ±‡ç‡ä¼˜åŠ¿**ï¼šæ€»ä½“ç›¸å½“äºå®˜ç½‘ **7.3 æŠ˜**
</Tip>

### åŸºç¡€ç¤ºä¾‹ - å•å›¾ç¼–è¾‘

```bash
curl -X POST "https://api.laozhang.ai/v1/chat/completions" \
     -H "Authorization: Bearer sk-YOUR_API_KEY" \
     -H "Content-Type: application/json" \
     -d '{
    "model": "gemini-2.5-flash-image-preview",
    "stream": false,
    "messages": [
        {
            "role": "user",
            "content": [
                {
                    "type": "text",
                    "text": "add a dog to this image"
                },
                {
                    "type": "image_url",
                    "image_url": {
                        "url": "https://github.com/dianping/cat/raw/master/cat-home/src/main/webapp/images/logo/cat_logo03.png"
                    }
                }
            ]
        }
    ]
}'
```

### Python ç¤ºä¾‹ - å¤šå›¾åˆæˆ

```python
#!/usr/bin/env python3
import requests
import json
import base64
import re
from datetime import datetime
import sys

# é…ç½®
API_KEY = "sk-YOUR_API_KEY"  # è¯·æ›¿æ¢ä¸ºä½ çš„å®é™…å¯†é’¥ï¼ˆæŒ‰æ¬¡è®¡è´¹ç±»å‹ï¼‰
API_URL = "https://api.laozhang.ai/v1/chat/completions"

def edit_images_with_gemini():
    """å¤šå›¾åˆæˆç¼–è¾‘ç¤ºä¾‹"""
    
    # è®¾ç½®è¯·æ±‚å¤´
    headers = {
        "Authorization": f"Bearer {API_KEY}",
        "Content-Type": "application/json"
    }
    
    # è¯·æ±‚æ•°æ® - æ”¯æŒå¤šå¼ å›¾ç‰‡è¾“å…¥
    data = {
        "model": "gemini-2.5-flash-image-preview",
        "stream": False,
        "messages": [
            {
                "role": "user",
                "content": [
                    {
                        "type": "text",
                        "text": "Combine these 2 images creatively and add a Corgi dog"
                    },
                    {
                        "type": "image_url",
                        "image_url": {
                            "url": "https://github.com/dianping/cat/raw/master/cat-home/src/main/webapp/images/logo/cat_logo03.png"
                        }
                    },
                    {
                        "type": "image_url",
                        "image_url": {
                            "url": "https://raw.githubusercontent.com/leonindy/camel/master/camel-admin/src/main/webapp/assets/images/camel_logo_blue.png"
                        }
                    }
                ]
            }
        ]
    }
    
    print("æ­£åœ¨è¯·æ±‚API...")
    
    try:
        # å‘é€è¯·æ±‚
        response = requests.post(API_URL, headers=headers, json=data)
        response.raise_for_status()
        
        print("APIè¯·æ±‚æˆåŠŸï¼Œæ­£åœ¨å¤„ç†å“åº”...")
        
        # è§£æå“åº”
        result = response.json()
        
        # æå–å†…å®¹
        content = result['choices'][0]['message']['content']
        print(f"æ”¶åˆ°å†…å®¹: {content[:200]}...")  # æ˜¾ç¤ºå‰200ä¸ªå­—ç¬¦
        
        # æŸ¥æ‰¾Base64å›¾ç‰‡æ•°æ®
        # æ–¹æ³•1: æŸ¥æ‰¾æ ‡å‡†æ ¼å¼ data:image/type;base64,data
        base64_match = re.search(r'data:image/[^;]+;base64,([A-Za-z0-9+/=]+)', content)
        
        if base64_match:
            base64_data = base64_match.group(1)
            print("æ‰¾åˆ°æ ‡å‡†æ ¼å¼çš„Base64æ•°æ®")
        else:
            # æ–¹æ³•2: æŸ¥æ‰¾çº¯Base64æ•°æ®ï¼ˆé•¿å­—ç¬¦ä¸²ï¼‰
            base64_match = re.search(r'([A-Za-z0-9+/=]{100,})', content)
            if base64_match:
                base64_data = base64_match.group(1)
                print("æ‰¾åˆ°çº¯Base64æ•°æ®")
            else:
                print("é”™è¯¯: æ— æ³•æ‰¾åˆ°Base64å›¾ç‰‡æ•°æ®")
                print("å®Œæ•´å“åº”å†…å®¹:")
                print(json.dumps(result, indent=2, ensure_ascii=False))
                return False
        
        # ç”Ÿæˆæ–‡ä»¶å
        timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
        filename = f"edited_image_{timestamp}.png"
        
        print("æ­£åœ¨ä¿å­˜å›¾ç‰‡...")
        
        # è§£ç å¹¶ä¿å­˜å›¾ç‰‡
        try:
            image_data = base64.b64decode(base64_data)
            with open(filename, 'wb') as f:
                f.write(image_data)
            
            print(f"å›¾ç‰‡å·²æˆåŠŸä¿å­˜ä¸º: {filename}")
            print(f"æ–‡ä»¶å¤§å°: {len(image_data)} å­—èŠ‚")
            return True
            
        except Exception as e:
            print(f"é”™è¯¯: ä¿å­˜å›¾ç‰‡æ—¶å‡ºç°é—®é¢˜: {e}")
            return False
            
    except requests.exceptions.RequestException as e:
        print(f"é”™è¯¯: APIè¯·æ±‚å¤±è´¥: {e}")
        return False
    except KeyError as e:
        print(f"é”™è¯¯: å“åº”æ ¼å¼ä¸æ­£ç¡®ï¼Œç¼ºå°‘å­—æ®µ: {e}")
        print("å®Œæ•´å“åº”å†…å®¹:")
        print(json.dumps(response.json(), indent=2, ensure_ascii=False))
        return False
    except Exception as e:
        print(f"é”™è¯¯: æœªçŸ¥é”™è¯¯: {e}")
        return False

if __name__ == "__main__":
    success = edit_images_with_gemini()
    sys.exit(0 if success else 1)
```

### Bash è„šæœ¬ - æ‰¹é‡ç¼–è¾‘

```bash
#!/bin/bash

# Nano Banana å›¾åƒç¼–è¾‘ - Bashç‰ˆæœ¬
# æ”¯æŒå•å›¾/å¤šå›¾ç¼–è¾‘ï¼Œè‡ªåŠ¨ä¿å­˜base64ç»“æœ

# è®¾ç½®APIå¯†é’¥ï¼ˆè¯·æ›¿æ¢ä¸ºä½ çš„å®é™…ã€æŒ‰æ¬¡è®¡è´¹ã€‘çš„å¯†é’¥ï¼‰
API_KEY="sk-YOUR_API_KEY"

# è®¾ç½®è¾“å‡ºæ–‡ä»¶å
OUTPUT_FILE="edited_image_$(date +%Y%m%d_%H%M%S).png"

echo "æ­£åœ¨è¯·æ±‚APIè¿›è¡Œå›¾åƒç¼–è¾‘..."

# å‘é€curlè¯·æ±‚å¹¶ä¿å­˜å“åº”åˆ°ä¸´æ—¶æ–‡ä»¶
RESPONSE=$(curl -s -X POST "https://api.laozhang.ai/v1/chat/completions" \
     -H "Authorization: Bearer $API_KEY" \
     -H "Content-Type: application/json" \
     -d '{
    "model": "gemini-2.5-flash-image-preview",
    "stream": false,
    "messages": [
        {
            "role": "user",
            "content": [
                {
                    "type": "text",
                    "text": "Combine 2 images and add a Corgi dog image"
                },
                {
                    "type": "image_url",
                    "image_url": {
                        "url": "https://github.com/dianping/cat/raw/master/cat-home/src/main/webapp/images/logo/cat_logo03.png"
                    }
                },
                {
                    "type": "image_url",
                    "image_url": {
                        "url": "https://raw.githubusercontent.com/leonindy/camel/master/camel-admin/src/main/webapp/assets/images/camel_logo_blue.png"
                    }
                }
            ]
        }
    ]
}')

# æ£€æŸ¥è¯·æ±‚æ˜¯å¦æˆåŠŸ
if [ $? -ne 0 ]; then
    echo "é”™è¯¯: APIè¯·æ±‚å¤±è´¥"
    exit 1
fi

echo "APIè¯·æ±‚æˆåŠŸï¼Œæ­£åœ¨å¤„ç†å“åº”..."

# ä»å“åº”ä¸­æå–Base64å›¾ç‰‡æ•°æ®
BASE64_DATA=$(echo "$RESPONSE" | python3 -c "
import json
import sys
import re

try:
    data = json.load(sys.stdin)
    content = data['choices'][0]['message']['content']
    
    # æŸ¥æ‰¾Base64å›¾ç‰‡æ•°æ®
    base64_match = re.search(r'data:image/[^;]+;base64,([A-Za-z0-9+/=]+)', content)
    if base64_match:
        print(base64_match.group(1))
    else:
        # å°è¯•æŸ¥æ‰¾çº¯Base64æ•°æ®
        base64_match = re.search(r'([A-Za-z0-9+/=]{100,})', content)
        if base64_match:
            print(base64_match.group(1))
        else:
            print('ERROR: No Base64 data found')
            sys.exit(1)
except Exception as e:
    print(f'ERROR: {e}')
    sys.exit(1)
")

# æ£€æŸ¥æ˜¯å¦æˆåŠŸæå–Base64æ•°æ®
if [[ "$BASE64_DATA" == ERROR* ]]; then
    echo "$BASE64_DATA"
    echo "å®Œæ•´å“åº”å†…å®¹ï¼š"
    echo "$RESPONSE"
    exit 1
fi

if [ -z "$BASE64_DATA" ]; then
    echo "é”™è¯¯: æ— æ³•ä»å“åº”ä¸­æå–Base64å›¾ç‰‡æ•°æ®"
    echo "å®Œæ•´å“åº”å†…å®¹ï¼š"
    echo "$RESPONSE"
    exit 1
fi

echo "æˆåŠŸæå–Base64æ•°æ®ï¼Œæ­£åœ¨ä¿å­˜å›¾ç‰‡..."

# å°†Base64æ•°æ®è§£ç å¹¶ä¿å­˜ä¸ºå›¾ç‰‡æ–‡ä»¶
echo "$BASE64_DATA" | base64 -d > "$OUTPUT_FILE"

# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æˆåŠŸåˆ›å»º
if [ -f "$OUTPUT_FILE" ] && [ -s "$OUTPUT_FILE" ]; then
    echo "å›¾ç‰‡å·²æˆåŠŸä¿å­˜ä¸º: $OUTPUT_FILE"
    echo "æ–‡ä»¶å¤§å°: $(ls -lh "$OUTPUT_FILE" | awk '{print $5}')"
else
    echo "é”™è¯¯: å›¾ç‰‡ä¿å­˜å¤±è´¥"
    exit 1
fi

echo "âœ¨ ç¼–è¾‘å®Œæˆï¼"
```

## ğŸ¯ ç¼–è¾‘åœºæ™¯ç¤ºä¾‹

### 1. å•å›¾ç¼–è¾‘ - æ·»åŠ å…ƒç´ 

```python
def add_element_to_image(image_url, element_description):
    """å‘å›¾ç‰‡æ·»åŠ æ–°å…ƒç´ """
    headers = {
        "Authorization": f"Bearer {API_KEY}",
        "Content-Type": "application/json"
    }
    
    data = {
        "model": "gemini-2.5-flash-image-preview",
        "stream": False,
        "messages": [{
            "role": "user",
            "content": [
                {"type": "text", "text": f"Add {element_description} to this image"},
                {"type": "image_url", "image_url": {"url": image_url}}
            ]
        }]
    }
    
    response = requests.post(API_URL, headers=headers, json=data)
    return extract_base64_from_response(response.json())

# ä½¿ç”¨ç¤ºä¾‹
result = add_element_to_image(
    "https://example.com/landscape.jpg",
    "a rainbow in the sky"
)
```

### 2. å¤šå›¾åˆæˆ - åˆ›æ„èåˆ

```python
def creative_merge(image_urls, merge_instruction):
    """åˆ›æ„åˆå¹¶å¤šå¼ å›¾ç‰‡"""
    content = [{"type": "text", "text": merge_instruction}]
    
    # æ·»åŠ æ‰€æœ‰å›¾ç‰‡
    for url in image_urls:
        content.append({
            "type": "image_url",
            "image_url": {"url": url}
        })
    
    headers = {
        "Authorization": f"Bearer {API_KEY}",
        "Content-Type": "application/json"
    }
    
    data = {
        "model": "gemini-2.5-flash-image-preview",
        "stream": False,
        "messages": [{
            "role": "user",
            "content": content
        }]
    }
    
    response = requests.post(API_URL, headers=headers, json=data)
    return extract_base64_from_response(response.json())

# ä½¿ç”¨ç¤ºä¾‹
images = [
    "https://example.com/cat.jpg",
    "https://example.com/background.jpg"
]
result = creative_merge(images, "å°†çŒ«å’ªè‡ªç„¶åœ°èå…¥åˆ°èƒŒæ™¯ä¸­")
```

### 3. é£æ ¼è½¬æ¢

```python
def style_transfer(image_url, style_description):
    """å›¾ç‰‡é£æ ¼è½¬æ¢"""
    headers = {
        "Authorization": f"Bearer {API_KEY}",
        "Content-Type": "application/json"
    }
    
    data = {
        "model": "gemini-2.5-flash-image-preview",
        "stream": False,
        "messages": [{
            "role": "user",
            "content": [
                {"type": "text", "text": f"Transform this image into {style_description} style"},
                {"type": "image_url", "image_url": {"url": image_url}}
            ]
        }]
    }
    
    response = requests.post(API_URL, headers=headers, json=data)
    return extract_base64_from_response(response.json())

# ä½¿ç”¨ç¤ºä¾‹
result = style_transfer(
    "https://example.com/photo.jpg",
    "Van Gogh painting"
)
```

### 4. æ‰¹é‡ç¼–è¾‘å¤„ç†

```python
class BatchImageEditor:
    """æ‰¹é‡å›¾åƒç¼–è¾‘å™¨"""
    
    def __init__(self, api_key):
        self.api_key = api_key
        self.api_url = "https://api.laozhang.ai/v1/chat/completions"
    
    def process_batch(self, tasks):
        """
        æ‰¹é‡å¤„ç†ç¼–è¾‘ä»»åŠ¡
        tasks: [(image_urls, instruction), ...]
        """
        results = []
        
        for i, (image_urls, instruction) in enumerate(tasks, 1):
            print(f"å¤„ç†ä»»åŠ¡ {i}/{len(tasks)}: {instruction[:50]}...")
            
            try:
                result = self.edit_images(image_urls, instruction)
                results.append({
                    "task_id": i,
                    "instruction": instruction,
                    "success": True,
                    "output": result
                })
                print(f"âœ… ä»»åŠ¡ {i} å®Œæˆ")
                
            except Exception as e:
                results.append({
                    "task_id": i,
                    "instruction": instruction,
                    "success": False,
                    "error": str(e)
                })
                print(f"âŒ ä»»åŠ¡ {i} å¤±è´¥: {e}")
        
        return results
    
    def edit_images(self, image_urls, instruction):
        """ç¼–è¾‘å›¾ç‰‡"""
        if isinstance(image_urls, str):
            image_urls = [image_urls]
        
        content = [{"type": "text", "text": instruction}]
        for url in image_urls:
            content.append({
                "type": "image_url",
                "image_url": {"url": url}
            })
        
        headers = {
            "Authorization": f"Bearer {self.api_key}",
            "Content-Type": "application/json"
        }
        
        data = {
            "model": "gemini-2.5-flash-image-preview",
            "stream": False,
            "messages": [{"role": "user", "content": content}]
        }
        
        response = requests.post(self.api_url, headers=headers, json=data)
        response.raise_for_status()
        
        return self.extract_and_save_base64(response.json())
    
    def extract_and_save_base64(self, response_data):
        """æå–å¹¶ä¿å­˜base64å›¾ç‰‡"""
        content = response_data['choices'][0]['message']['content']
        
        # æå–base64æ•°æ®
        base64_match = re.search(r'data:image/[^;]+;base64,([A-Za-z0-9+/=]+)', content)
        if not base64_match:
            base64_match = re.search(r'([A-Za-z0-9+/=]{100,})', content)
        
        if base64_match:
            base64_data = base64_match.group(1)
            
            # ä¿å­˜å›¾ç‰‡
            timestamp = datetime.now().strftime("%Y%m%d_%H%M%S_%f")
            filename = f"edited_{timestamp}.png"
            
            image_data = base64.b64decode(base64_data)
            with open(filename, 'wb') as f:
                f.write(image_data)
            
            return filename
        else:
            raise ValueError("æœªæ‰¾åˆ°base64å›¾ç‰‡æ•°æ®")

# ä½¿ç”¨ç¤ºä¾‹
editor = BatchImageEditor(API_KEY)

tasks = [
    (["https://example.com/cat.jpg"], "ç»™çŒ«å’ªæˆ´ä¸Šå¸½å­"),
    (["https://example.com/room.jpg"], "å°†æˆ¿é—´æ”¹ä¸ºå¤œæ™šæ°›å›´"),
    (["https://example.com/img1.jpg", "https://example.com/img2.jpg"], "åˆ›æ„èåˆä¸¤å¼ å›¾ç‰‡")
]

results = editor.process_batch(tasks)
```

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. ç¼–è¾‘æŒ‡ä»¤ä¼˜åŒ–

```python
# âŒ æ¨¡ç³ŠæŒ‡ä»¤
instruction = "edit the image"

# âœ… æ¸…æ™°å…·ä½“çš„æŒ‡ä»¤
instruction = """
1. åœ¨å›¾ç‰‡å³ä¸Šè§’æ·»åŠ ä¸€è½®æ˜æœˆ
2. è°ƒæ•´æ•´ä½“è‰²è°ƒä¸ºæš–è‰²ç³»
3. å¢åŠ ä¸€äº›è¤ç«è™«çš„å…‰ç‚¹æ•ˆæœ
4. ä¿æŒåŸå›¾çš„ä¸»ä½“ä¸å˜
"""
```

### 2. å¤šå›¾å¤„ç†ç­–ç•¥

```python
def smart_multi_image_edit(images, instruction):
    """æ™ºèƒ½å¤šå›¾ç¼–è¾‘ï¼Œè‡ªåŠ¨å¤„ç†ä¸åŒæ•°é‡çš„å›¾ç‰‡"""
    
    if len(images) == 1:
        # å•å›¾ç¼–è¾‘
        prompt = f"Edit this image: {instruction}"
    elif len(images) == 2:
        # åŒå›¾åˆæˆ
        prompt = f"Combine these two images creatively: {instruction}"
    else:
        # å¤šå›¾å¤„ç†
        prompt = f"Process these {len(images)} images together: {instruction}"
    
    # æ„å»ºcontent
    content = [{"type": "text", "text": prompt}]
    for img in images:
        content.append({
            "type": "image_url",
            "image_url": {"url": img}
        })
    
    # å‘é€è¯·æ±‚...
    return send_edit_request(content)
```

### 3. Base64 æ•°æ®å¤„ç†å·¥å…·

```python
import base64
import io
import re
from datetime import datetime
from PIL import Image

class Base64ImageHandler:
    """Base64å›¾ç‰‡å¤„ç†å·¥å…·ç±»"""
    
    @staticmethod
    def extract_from_response(response_content):
        """ä»APIå“åº”ä¸­æå–base64æ•°æ®"""
        patterns = [
            r'data:image/([^;]+);base64,([A-Za-z0-9+/=]+)',
            r'([A-Za-z0-9+/=]{100,})'
        ]
        
        for pattern in patterns:
            match = re.search(pattern, response_content)
            if match:
                if len(match.groups()) == 2:
                    return match.group(2), match.group(1)  # data, format
                else:
                    return match.group(1), 'png'  # default to png
        
        return None, None
    
    @staticmethod
    def save_to_file(base64_data, filename=None):
        """ä¿å­˜base64æ•°æ®ä¸ºæ–‡ä»¶"""
        if not filename:
            filename = f"image_{datetime.now().strftime('%Y%m%d_%H%M%S')}.png"
        
        image_data = base64.b64decode(base64_data)
        with open(filename, 'wb') as f:
            f.write(image_data)
        
        return filename
    
    @staticmethod
    def to_pil_image(base64_data):
        """è½¬æ¢ä¸ºPIL Imageå¯¹è±¡"""
        image_data = base64.b64decode(base64_data)
        return Image.open(io.BytesIO(image_data))
    
    @staticmethod
    def from_pil_image(pil_image, format='PNG'):
        """ä»PIL Imageè½¬æ¢ä¸ºbase64"""
        buffer = io.BytesIO()
        pil_image.save(buffer, format=format)
        img_str = base64.b64encode(buffer.getvalue()).decode()
        return f"data:image/{format.lower()};base64,{img_str}"
```





## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ä»¤ç‰Œç±»å‹**ï¼šå¿…é¡»ä½¿ç”¨**æŒ‰æ¬¡è®¡è´¹**ç±»å‹çš„ä»¤ç‰Œ
2. **è°ƒç”¨ç«¯ç‚¹**ï¼šä½¿ç”¨ `/v1/chat/completions`ï¼Œä¸æ˜¯ `/v1/images/edits`
3. **è¿”å›æ ¼å¼**ï¼šè¿”å› base64 ç¼–ç çš„ç¼–è¾‘ç»“æœ

## ğŸ” å¸¸è§é—®é¢˜


### Q: æœ€å¤šå¯ä»¥åŒæ—¶å¤„ç†å‡ å¼ å›¾ç‰‡ï¼Ÿ
A: ç†è®ºä¸Šæ²¡æœ‰ç¡¬æ€§é™åˆ¶ï¼Œä½†å»ºè®®å•æ¬¡è¯·æ±‚ä¸è¶…è¿‡ 5 å¼ å›¾ç‰‡ä»¥è·å¾—æœ€ä½³æ€§èƒ½ã€‚

### Q: ç¼–è¾‘åçš„å›¾ç‰‡åˆ†è¾¨ç‡å¦‚ä½•ï¼Ÿ
A: ç³»ç»Ÿä¼šæ™ºèƒ½ä¿æŒæˆ–ä¼˜åŒ–åˆ†è¾¨ç‡ï¼Œé€šå¸¸è¾“å‡ºé«˜è´¨é‡å›¾ç‰‡ï¼Œå…·ä½“å–å†³äºè¾“å…¥å›¾ç‰‡å’Œç¼–è¾‘éœ€æ±‚ã€‚


### Q: ä¸å…¶ä»–ç¼–è¾‘APIç›¸æ¯”æœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ
A: ä¸»è¦ä¼˜åŠ¿åŒ…æ‹¬ï¼šæ›´ä½çš„ä»·æ ¼ã€æ›´å¿«çš„å¤„ç†é€Ÿåº¦ã€åŸç”Ÿæ”¯æŒå¤šå›¾è¾“å…¥ã€ä¼˜ç§€çš„ä¸­æ–‡ç†è§£èƒ½åŠ›ã€‚

## ğŸ”— ç›¸å…³èµ„æº

- [Nano Banana å›¾åƒç”Ÿæˆ](/api-capabilities/nano-banana-image) - æ–‡ç”Ÿå›¾åŠŸèƒ½
- [ä»·æ ¼è®¡ç®—å™¨](https://api.laozhang.ai/account/pricing) - å®æ—¶ä»·æ ¼æŸ¥è¯¢
- [API å¯†é’¥ç®¡ç†](https://api.laozhang.ai/token) - åˆ›å»ºå’Œç®¡ç†ä»¤ç‰Œ
- [GPT-4o Image æ–‡æ¡£](/api-capabilities/gpt-4o-image) - äº†è§£å…¼å®¹æ¨¡å‹

<Note>
ğŸ¨ **ä¸“ä¸šæç¤º**ï¼šNano Banana ç¼–è¾‘åŠŸèƒ½ç‰¹åˆ«æ“…é•¿ç†è§£å¤æ‚çš„ç¼–è¾‘æŒ‡ä»¤å’Œåˆ›æ„è¦æ±‚ï¼Œå……åˆ†åˆ©ç”¨è¯¦ç»†çš„æè¿°å¯ä»¥è·å¾—æ›´ç²¾å‡†çš„ç¼–è¾‘æ•ˆæœï¼
</Note>