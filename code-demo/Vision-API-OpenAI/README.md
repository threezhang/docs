# 图片视觉理解系统

基于 Gemini 2.5 Pro 的智能图片分析工具，能够对图片进行详细的视觉理解和分析。

## 功能特点

- 🔍 **智能图片分析**: 使用 Gemini 2.5 Pro 进行深度视觉理解
- 📸 **自动图片处理**: 自动加载图片并转换为 base64 格式
- 💾 **结果保存**: 自动保存分析结果到文本文件
- 🎯 **详细分析**: 包含对象识别、颜色分析、环境描述、情感感受等
- 🌏 **中文输出**: 完全中文化的分析结果

## 安装依赖

```bash
pip install -r requirements.txt
```

## 使用方法

1. **准备图片**: 将要分析的图片命名为 `otter.png` 并放在当前目录下
2. **运行程序**: 
   ```bash
   python3 vision-test.py
   ```
3. **查看结果**: 程序会在控制台显示分析结果，并自动保存到时间戳命名的文本文件中

## API 配置

程序默认使用内置的 API Key，如需更换：

1. 打开 `vision-test.py`
2. 修改 `api_inference` 函数中的 `api_key` 参数
3. 保存文件后重新运行

## 分析内容

系统会提供以下方面的详细分析：

1. **主要对象识别**: 识别图片中的主要对象或动物
2. **外观特征**: 描述对象的颜色、形状、姿态等
3. **背景环境**: 分析图片的背景和环境设置
4. **风格色调**: 评估图片的艺术风格和整体色调
5. **情感感受**: 描述图片给人的情感体验

## 输出文件

- **控制台输出**: 实时显示分析进度和结果
- **分析结果文件**: `analysis_result_{时间戳}.txt` 格式的详细分析报告

## 示例输出

```
🔍 Gemini 2.5 Pro 图片视觉理解系统
==================================================
📸 发现图片: otter.png
✅ 图片已成功转换为base64格式
🤖 正在调用Gemini 2.5 Pro进行图像视觉理解...

🎯 AI视觉理解结果:
------------------------------
[详细的分析内容...]
------------------------------
📄 分析结果已保存到: analysis_result_1752573150.txt
✅ 图片视觉理解完成!
```

## 自定义分析

如需修改分析的重点，可以编辑 `main()` 函数中的 `prompt` 变量，自定义您希望AI关注的分析角度。

## 技术架构

- **图片处理**: PIL (Pillow) 库
- **网络请求**: requests 库  
- **AI模型**: Gemini 2.5 Pro via OpenAI compatible API
- **编码格式**: base64 图片编码
- **输出格式**: UTF-8 编码的中文文本

## 注意事项

- 确保网络连接正常
- 图片文件大小建议不超过 10MB
- 支持常见图片格式：PNG, JPG, JPEG, WEBP 等
- API 调用可能需要一定时间，请耐心等待

## 故障排除

1. **找不到图片文件**: 确保 `otter.png` 文件在当前目录下
2. **网络连接失败**: 检查网络连接和防火墙设置
3. **API 调用失败**: 确认 API Key 有效且有足够额度
4. **依赖缺失**: 运行 `pip install -r requirements.txt` 安装依赖

---

**Made with ❤️ using Gemini 2.5 Pro** 