---
title: Claude Code Setup Guide
sidebarTitle: Claude Code
description: "Claude Code API setup tutorial: Configure Claude Code with third-party API provider. Works without Anthropic account, settings.json configuration. 20% cheaper than official, with all Claude models supported."
icon: "terminal"
---

## Overview

Claude Code is Anthropic's official command-line programming assistant. By configuring LaoZhang API, you can:

<CardGroup cols={2}>
  <Card title="ðŸš€ Stable Connection" icon="wifi">
    Direct access, no proxy needed
  </Card>
  <Card title="ðŸ’° Cost Effective" icon="piggy-bank">
    No $200/month Claude Max subscription
  </Card>
  <Card title="âš¡ High Concurrency" icon="bolt">
    Unlimited parallel requests
  </Card>
  <Card title="ðŸ”§ Simple Setup" icon="wrench">
    Complete configuration in minutes
  </Card>
</CardGroup>

## Quick Start

<Note>
  **Simplified Setup**: If you don't want to register a Claude account, check the [Project Configuration](#project-configuration-recommended) section below. Using `.claude.json` file can completely bypass official verification.
</Note>

### 1. Install Claude Code

Run the following command to install globally:

```bash
npm install -g @anthropic-ai/claude-code
```

<Info>
  Requires Node.js 18 or higher. If not installed, download from [nodejs.org](https://nodejs.org).
</Info>

### 2. Get API Key

1. Visit [LaoZhang API Console](https://api.laozhang.ai/token)
2. Create a new token, **select "Claude Code" group**
3. Copy the key for later use (format: `sk-...`)

<Warning>
  **Important**: You must select the "Claude Code" group when creating the token, otherwise it may not work properly.
</Warning>

### 3. Configure Claude Code (Recommended)

Edit `~/.claude/settings.json` file:

```bash
vim ~/.claude/settings.json
```

Add the following content:

```json
{
    "env": {
      "ANTHROPIC_BASE_URL": "https://api.laozhang.ai",
      "ANTHROPIC_AUTH_TOKEN": "sk-your-laozhang-api-key",
      "ANTHROPIC_MODEL": "claude-opus-4-5-20251101"
    }
}
```

<Tip>
  **Configuration Notes**:
  - `ANTHROPIC_BASE_URL`: Points to LaoZhang API proxy
  - `ANTHROPIC_AUTH_TOKEN`: Your API key (from console)
  - `ANTHROPIC_MODEL`: Default model to use (optional)
</Tip>

Save and you're ready to go. No need to restart terminal.

### 4. Launch Claude Code

Navigate to your project directory and start:

```bash
cd ~/Desktop/my-project
claude
```

<Info>
  First launch will show API configuration info. Confirm and start using.
</Info>

## Model Selection

Models supported in Claude Code group:

| Model | Model ID | Features |
|-------|----------|----------|
| **Claude Opus 4.5** | `claude-opus-4-5-20251101` | Latest & most powerful, recommended |
| **Claude Opus 4.5 Thinking** | `claude-opus-4-5-20251101-thinking` | Chain of thought reasoning |
| **Claude Sonnet 4.5** | `claude-sonnet-4-5-20250929` | Balance of performance & cost |
| **Claude Opus 4.1** | `claude-opus-4-1-20250805` | Enhanced reasoning |
| **Claude Sonnet 4** | `claude-sonnet-4-20250514` | Excellent coding capability |
| **Claude 3.7 Sonnet** | `claude-3-7-sonnet-20250219` | Stable & reliable |
| **Claude Haiku 4.5** | `claude-haiku-4-5-20251001` | Fast response, low cost |
| **Claude 3.5 Sonnet** | `claude-3-5-sonnet-20241022` | Classic stable version |
| **Claude 3.5 Haiku** | `claude-3-5-haiku-20241022` | Lightweight & fast |

<Tip>
  Models with `-thinking` suffix support chain-of-thought reasoning, ideal for complex problem analysis.
</Tip>

## Usage Guide

### Basic Commands

```bash
claude
# Shows API Key and Base URL
# Confirm configuration and continue
```

### Workflow

1. **Start**: Run `claude` in project directory
2. **Describe**: Input your programming needs
3. **Interact**: Claude understands context and provides suggestions
4. **Apply**: Claude can directly modify files

### Supported Features

- âœ… Code generation and optimization
- âœ… Bug fixing and debugging
- âœ… Code refactoring
- âœ… Documentation writing
- âœ… Test case generation
- âœ… Technical Q&A
- âœ… Multi-file editing (Agent mode)

## Troubleshooting

<AccordionGroup>
  <Accordion title="Unable to Connect to Anthropic Services">
    Check the following:

    1. Environment variables are correctly set
    2. API key is valid
    3. Network connection is stable

    ```bash
    echo $ANTHROPIC_API_KEY
    echo $ANTHROPIC_BASE_URL
    ```
  </Accordion>

  <Accordion title="Requires Claude Account Authorization">
    Create `.claude.json` with `hasCompletedOnboarding: true`:

    ```json
    {
      "apiKey": "sk-your-laozhang-api-key",
      "apiBaseUrl": "https://api.laozhang.ai",
      "hasCompletedOnboarding": true
    }
    ```
  </Accordion>

  <Accordion title="Invalid API Key">
    Ensure you're using a LaoZhang API key. Check at [LaoZhang API Console](https://api.laozhang.ai/token).
  </Accordion>

  <Accordion title="How to Update Claude Code">
    ```bash
    npm update -g @anthropic-ai/claude-code
    ```
  </Accordion>
</AccordionGroup>

## Best Practices

### Effective Prompts

```markdown
Good prompts:
"Refactor this Python function for efficiency and add type annotations"
"This code has a memory leak, find and fix it"
"Write unit tests for this React component"

Avoid vague prompts:
"Improve my code"  # Too vague
```

### Performance Tips

1. **Use project config**: `.claude.json` avoids verification, faster startup
2. **Keep conversations coherent**: Handle related tasks in one session
3. **Be specific**: Clear descriptions reduce round trips

## Related Resources

<CardGroup cols={2}>
  <Card title="Official Docs" icon="book" href="https://docs.anthropic.com/en/docs/claude-code/setup">
    Claude Code Official Documentation
  </Card>
  <Card title="API Console" icon="gear" href="https://api.laozhang.ai/token">
    Manage API Keys
  </Card>
  <Card title="Model Info" icon="robot" href="/en/api-capabilities/model-info">
    Learn about Claude models
  </Card>
  <Card title="Cline Setup" icon="code" href="/en/scenarios/programming/cline">
    VS Code AI Agent
  </Card>
</CardGroup>

Need help? Visit [LaoZhang API](https://api.laozhang.ai) for support.

